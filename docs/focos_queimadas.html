<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Focos Queimadas - Estado de São Paulo (2019)</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="site_libs/highcharts-7.0.1/css/motion.css" rel="stylesheet" />
<link href="site_libs/highcharts-7.0.1/css/htmlwdgtgrid.css" rel="stylesheet" />
<script src="site_libs/highcharts-7.0.1/highcharts.js"></script>
<script src="site_libs/highcharts-7.0.1/highcharts-3d.js"></script>
<script src="site_libs/highcharts-7.0.1/highcharts-more.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/stock.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/map.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/annotations.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/boost.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/data.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/drag-panes.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/drilldown.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/item-series.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/offline-exporting.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/overlapping-datalabels.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/exporting.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/export-data.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/funnel.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/heatmap.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/treemap.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/sankey.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/solid-gauge.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/streamgraph.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/sunburst.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/vector.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/wordcloud.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/xrange.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/tilemap.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/venn.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/gantt.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/timeline.js"></script>
<script src="site_libs/highcharts-7.0.1/modules/parallel-coordinates.js"></script>
<script src="site_libs/highcharts-7.0.1/plugins/grouped-categories.js"></script>
<script src="site_libs/highcharts-7.0.1/plugins/motion.js"></script>
<script src="site_libs/highcharts-7.0.1/plugins/multicolor_series.js"></script>
<script src="site_libs/highcharts-7.0.1/custom/reset.js"></script>
<script src="site_libs/highcharts-7.0.1/custom/symbols-extra.js"></script>
<script src="site_libs/highcharts-7.0.1/custom/text-symbols.js"></script>
<script src="site_libs/highchart-binding-0.7.0/highchart.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">CuriosiDados</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Projetos em R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="frota_veiculos.html">Frota de veiculos</a>
    </li>
    <li>
      <a href="focos_queimadas.html">Focos Queimadas</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Eleições
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="eleicoes_2018_americana.html">Gerais - 2018</a>
    </li>
  </ul>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Focos Queimadas - Estado de São Paulo (2019)</h1>

</div>


<p><br /></p>
<div id="introdução" class="section level2">
<h2>Introdução</h2>
<p>O tema da preservação da natureza é um tema que há muitos anos está presente no nosso dia a dia, e é um tema cada vez mais importante, dada a constante exploração da natureza e suas consequências que ameaçam a sobrevivência da própria espécie humana. Entre as inúmeras discussões sobre o tema, uma delas é a das queimadas, que pelo menos no Brasil, (ainda) são consideradas crimes contra a natureza, se não feitas com licença do orgão ambiental competente.</p>
<p>Quem mora no interior do Estado de São Paulo, percebe em determinadas épocas do ano, um aumento constante das cinzas de cana de açucar, que invadem as casas, além de nuvens enormes de fumaça que deixam a luz do sol até de outra cor, e o cheiro de fumaça que parece tomar conta de uma cidade toda.</p>
<p>Graças ao INPE (Instituto Nacional de Pesquisas Espaciais) possuímos um monitoramento via satélite desses focos de queimadas em todo o Brasil, e podemos compreender melhor seu funcionamento. Nesta análise teremos um recorte desses dados, tentando entender como foi a questão das queimadas no Estado de São Paulo no ano de 2019.</p>
<p><em>As fontes dos dados estão no final da página</em></p>
<hr />
</div>
<div id="bibliotecas" class="section level2">
<h2>Bibliotecas</h2>
<pre class="r"><code># Bibliotecas do projeto
library(dplyr)
library(knitr)
library(sqldf)
library(hms)
library(rmarkdown)
library(highcharter)
library(lubridate)
library(viridisLite)
library(data.table)
library(caret)</code></pre>
<p><br /></p>
</div>
<div id="carregar-dados" class="section level2">
<h2>Carregar dados</h2>
<pre class="r"><code>df_foco_queimadas19 &lt;- read.csv(&#39;data/queimadas_focos_2019-01-01_2019-12-31.csv&#39;, sep = &#39;,&#39;)</code></pre>
<pre class="r"><code>str(df_foco_queimadas19)</code></pre>
<pre><code>## &#39;data.frame&#39;:    54970 obs. of  12 variables:
##  $ datahora    : chr  &quot;2019/09/03 17:42:00&quot; &quot;2019/09/03 17:42:00&quot; &quot;2019/09/03 17:42:00&quot; &quot;2019/09/03 17:42:00&quot; ...
##  $ satelite    : chr  &quot;NPP-375&quot; &quot;NPP-375&quot; &quot;NPP-375&quot; &quot;NPP-375&quot; ...
##  $ pais        : chr  &quot;Brasil&quot; &quot;Brasil&quot; &quot;Brasil&quot; &quot;Brasil&quot; ...
##  $ estado      : chr  &quot;SAO PAULO&quot; &quot;SAO PAULO&quot; &quot;SAO PAULO&quot; &quot;SAO PAULO&quot; ...
##  $ municipio   : chr  &quot;GUAIRA&quot; &quot;GUAIRA&quot; &quot;GUAIRA&quot; &quot;GUAIRA&quot; ...
##  $ bioma       : chr  &quot;Cerrado&quot; &quot;Cerrado&quot; &quot;Cerrado&quot; &quot;Cerrado&quot; ...
##  $ diasemchuva : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ precipitacao: num  0 0 0 0 0 0 0 0 0 0 ...
##  $ riscofogo   : num  0 0 0 0 0 0 0 0 0 0 ...
##  $ latitude    : num  -20.4 -20.4 -20.4 -20.4 -20.4 ...
##  $ longitude   : num  -48.4 -48.3 -48.3 -48.3 -48.3 ...
##  $ frp         : num  7.4 64.2 64.2 64.2 64.2 209 39.6 39.6 97.4 5.9 ...</code></pre>
<pre class="r"><code># 54970 linhas (observações) e 12 colunas (variáveis)</code></pre>
<p><br /></p>
</div>
<div id="conhecer-os-dados" class="section level2">
<h2>Conhecer os dados</h2>
<p>Das colunas que temos, vamos trabalhar com as seguintes:</p>
<ul>
<li><strong>datahora</strong>: Horário de referência da passagem do satélite segundo o fuso horário de Greenwich (GMT)</li>
<li><strong>satelite</strong>: Nome do algorítmo utilizado e referencia ao satélite provedor da imagem</li>
<li><strong>municipio</strong>: Nome do município. Para o Brasil foi utilizado como referência o dado do IBGE 2000</li>
<li><strong>bioma</strong> (Bioma: uma unidade biológica ou espaço geográfico cujas características específicas são definidas pelo macroclima, o solo, a altitude, dentre outros critérios)</li>
<li><strong>diasemchuva</strong>: Número de dias sem chuva até a detecção do foco</li>
<li><strong>precipitacao</strong>: Valor da precipitação acumulada no dia até o momento da detecção do foco</li>
<li><strong>riscofogo</strong>: Valor do Risco de Fogo previsto para o dia da detecção do foco (Vai de 0 até 1, e o valor 777.7 significa que é valor inválido)</li>
<li><strong>frp</strong>: Fire Radiative Power (Energia Radiativa do Fogo, intensidade da queimada), valor em MW (megawatts)</li>
</ul>
<p><br /></p>
<p><em>Para mais informações sobre o dataset, vá ao final deste documento (lá explica melhor o que é o Risco Fogo e o FRP)</em></p>
<hr />
</div>
<div id="tratar-dados" class="section level2">
<h2>Tratar dados</h2>
<p>Excluir colunas indesejadas e procurar por valores nulos e faltantes.</p>
<p><br /></p>
<pre class="r"><code># Excluir colunas
df_foco_queimadas19$pais &lt;- NULL
df_foco_queimadas19$estado &lt;- NULL

summary(df_foco_queimadas19)</code></pre>
<pre><code>##    datahora           satelite          municipio            bioma          
##  Length:54970       Length:54970       Length:54970       Length:54970      
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                             
##                                                                             
##                                                                             
##                                                                             
##   diasemchuva      precipitacao       riscofogo          latitude     
##  Min.   : 0.000   Min.   : 0.0000   Min.   :  0.000   Min.   :-25.18  
##  1st Qu.: 0.000   1st Qu.: 0.0000   1st Qu.:  0.000   1st Qu.:-22.78  
##  Median : 3.000   Median : 0.0000   Median :  0.880   Median :-22.01  
##  Mean   : 4.788   Mean   : 0.3475   Mean   :  2.012   Mean   :-21.95  
##  3rd Qu.: 8.000   3rd Qu.: 0.0000   3rd Qu.:  1.000   3rd Qu.:-21.05  
##  Max.   :39.000   Max.   :76.3800   Max.   :777.700   Max.   :-19.81  
##                                     NA&#39;s   :649                       
##    longitude           frp         
##  Min.   :-53.09   Min.   :   0.00  
##  1st Qu.:-49.52   1st Qu.:   2.90  
##  Median :-48.55   Median :   7.10  
##  Mean   :-48.61   Mean   :  19.26  
##  3rd Qu.:-47.45   3rd Qu.:  17.30  
##  Max.   :-44.23   Max.   :1935.50  
##                   NA&#39;s   :28372</code></pre>
<pre class="r"><code># Encontrado vazios (NA) nas colunas riscofogo (649) e frp (28372)</code></pre>
<p><br /></p>
<p>No caso da coluna <code>riscofogo</code> como são poucos valores, vou zerar essas linhas (o processo vai ficar comentado). No caso do campo <code>frp</code> tem milhares de linhas vazias, mas, pelo que entendi desse campo, ele nem sempre consegue ser medido pelo satélite, porque pode ter sido uma queimada de baixa intensidade, portanto vamos mantê-lo tal como está.</p>
<p><br /></p>
<pre class="r"><code>#head(df_foco_queimadas19)
#df_foco_queimadas19[is.na(df_foco_queimadas19$riscofogo), ]
df_foco_queimadas19[is.na(df_foco_queimadas19$riscofogo), 7] &lt;- 0
summary(df_foco_queimadas19)</code></pre>
<pre><code>##    datahora           satelite          municipio            bioma          
##  Length:54970       Length:54970       Length:54970       Length:54970      
##  Class :character   Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character   Mode  :character  
##                                                                             
##                                                                             
##                                                                             
##                                                                             
##   diasemchuva      precipitacao       riscofogo          latitude     
##  Min.   : 0.000   Min.   : 0.0000   Min.   :  0.000   Min.   :-25.18  
##  1st Qu.: 0.000   1st Qu.: 0.0000   1st Qu.:  0.000   1st Qu.:-22.78  
##  Median : 3.000   Median : 0.0000   Median :  0.840   Median :-22.01  
##  Mean   : 4.788   Mean   : 0.3475   Mean   :  1.988   Mean   :-21.95  
##  3rd Qu.: 8.000   3rd Qu.: 0.0000   3rd Qu.:  1.000   3rd Qu.:-21.05  
##  Max.   :39.000   Max.   :76.3800   Max.   :777.700   Max.   :-19.81  
##                                                                       
##    longitude           frp         
##  Min.   :-53.09   Min.   :   0.00  
##  1st Qu.:-49.52   1st Qu.:   2.90  
##  Median :-48.55   Median :   7.10  
##  Mean   :-48.61   Mean   :  19.26  
##  3rd Qu.:-47.45   3rd Qu.:  17.30  
##  Max.   :-44.23   Max.   :1935.50  
##                   NA&#39;s   :28372</code></pre>
<pre class="r"><code>#df_foco_queimadas19[is.na(df_foco_queimadas19$frp), ]
#head(df_foco_queimadas19)</code></pre>
<p><br ></p>
<p>Vamos separar a data da hora em duas colunas <code>data</code> e <code>hora</code>.</p>
<p>E em seguida criar a coluna <code>periodo_dia</code> para classificarmos os períodos do dia, baseados nas horas: <em>manhã</em> (6:00 às 11:59), <em>tarde</em> (12:00 às 17:59), <em>noite</em> (18:00 às 23:59) e <em>madrugada</em> (00:00 às 05:59).</p>
<p><br /></p>
<pre class="r"><code>df_foco_queimadas19$data &lt;- as.Date(df_foco_queimadas19$datahora)
df_foco_queimadas19$hora &lt;- format(as.POSIXct(df_foco_queimadas19$datahora, tz = &quot;America/Sao_Paulo&quot;), format = &quot;%H:%M:%S&quot;)

# df_foco_queimadas19[as_hms(df_foco_queimadas19$hora) &gt;= as_hms(&quot;06:00:00&quot;) &amp; as_hms(df_foco_queimadas19$hora) &lt; as_hms(&quot;12:00:00&quot;), ]

df_foco_queimadas19$periodo_dia &lt;- 
  ifelse(as_hms(df_foco_queimadas19$hora) &gt;= as_hms(&quot;06:00:00&quot;) &amp; as_hms(df_foco_queimadas19$hora) &lt; as_hms(&quot;12:00:00&quot;), &quot;Manhã&quot;,
  ifelse(as_hms(df_foco_queimadas19$hora) &gt;= as_hms(&quot;12:00:00&quot;) &amp; as_hms(df_foco_queimadas19$hora) &lt; as_hms(&quot;18:00:00&quot;), &quot;Tarde&quot;,
  ifelse(as_hms(df_foco_queimadas19$hora) &gt;= as_hms(&quot;18:00:00&quot;) &amp; as_hms(df_foco_queimadas19$hora) &lt;= as_hms(&quot;23:59:59&quot;), &quot;Noite&quot;,
  ifelse(as_hms(df_foco_queimadas19$hora) &gt;= as_hms(&quot;00:00:00&quot;) &amp; as_hms(df_foco_queimadas19$hora) &lt; as_hms(&quot;06:00:00&quot;), &quot;Madrugada&quot;, &quot;NA&quot; ))))

head(df_foco_queimadas19)     </code></pre>
<pre><code>##              datahora satelite municipio   bioma diasemchuva precipitacao
## 1 2019/09/03 17:42:00  NPP-375    GUAIRA Cerrado           0            0
## 2 2019/09/03 17:42:00  NPP-375    GUAIRA Cerrado           0            0
## 3 2019/09/03 17:42:00  NPP-375    GUAIRA Cerrado           0            0
## 4 2019/09/03 17:42:00  NPP-375    GUAIRA Cerrado           0            0
## 5 2019/09/03 17:42:00  NPP-375    GUAIRA Cerrado           0            0
## 6 2019/09/03 17:42:00  NPP-375    GUAIRA Cerrado           0            0
##   riscofogo  latitude longitude   frp       data     hora periodo_dia
## 1         0 -20.37233 -48.43229   7.4 2019-09-03 17:42:00       Tarde
## 2         0 -20.37030 -48.33683  64.2 2019-09-03 17:42:00       Tarde
## 3         0 -20.36897 -48.33117  64.2 2019-09-03 17:42:00       Tarde
## 4         0 -20.36388 -48.33862  64.2 2019-09-03 17:42:00       Tarde
## 5         0 -20.36255 -48.33293  64.2 2019-09-03 17:42:00       Tarde
## 6         0 -20.36116 -48.32708 209.0 2019-09-03 17:42:00       Tarde</code></pre>
<p><br /></p>
<p>Vamos adicionar a coluna <code>riscofogo_nivel</code> para classificar os níveis do risco de fogo, que o próprio instituto utiliza: Mínimo, abaixo de 0,15; Baixo, de 0,15 a 0,4; Médio, de 0,4 a 0,7; Alto, de 0,7 a 0,95 e; Crítico, acima de 0.95 _ até 1.</p>
<p><br /></p>
<pre class="r"><code>df_foco_queimadas19$riscofogo_nivel &lt;-
  ifelse(df_foco_queimadas19$riscofogo &gt;= 0 &amp; df_foco_queimadas19$riscofogo &lt; 0.15, &quot;Mínimo&quot;,
  ifelse(df_foco_queimadas19$riscofogo &gt;= 0.15 &amp; df_foco_queimadas19$riscofogo &lt; 0.4, &quot;Baixo&quot;,
  ifelse(df_foco_queimadas19$riscofogo &gt;= 0.4 &amp; df_foco_queimadas19$riscofogo &lt; 0.7, &quot;Médio&quot;,
  ifelse(df_foco_queimadas19$riscofogo &gt;= 0.7 &amp; df_foco_queimadas19$riscofogo &lt; 0.95, &quot;Alto&quot;,
  ifelse(df_foco_queimadas19$riscofogo &gt;= 0.95 &amp; df_foco_queimadas19$riscofogo &lt;= 1, &quot;Crítico&quot;, &quot;NA&quot;)))))</code></pre>
<p><br /></p>
</div>
<div id="analisar-os-dados" class="section level2">
<h2>Analisar os dados</h2>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 1. O Estado de São Paulo possui 645 municípios (informação de 2020), vamos verificar quantos municípios tiveram focos de queimadas. </b>
</div>
<pre class="r"><code>#length(unique(df_foco_queimadas19$municipio))
cidades_focos &lt;- n_distinct(df_foco_queimadas19$municipio)

print(paste(&quot;No ano de 2019, &quot;, cidades_focos, &quot; cidades do Estado de SP tiveram focos de queimadas, isso equivale a &quot;, round(cidades_focos/645*100,2), &quot;% do total de cidades.&quot; ))</code></pre>
<pre><code>## [1] &quot;No ano de 2019,  638  cidades do Estado de SP tiveram focos de queimadas, isso equivale a  98.91 % do total de cidades.&quot;</code></pre>
<p><br /></p>
<p>Antes de prosseguirmos, é necessário entendermos algo antes: os satélites indicam focos de queimadas, e isso quer dizer que uma mesma queimada pode ter vários focos em regiões próximas. Pense no seguinte caso: Num sábadão fim de tarde um tiozinho da vida intencionalmente colocou fogo num monte de capim perto de um pasto, e o fogo se alastrou pela área. O satélite monitora a área, e identifica 3 focos de queimadas nessa região, e todos estes focos são originários do local onde o tiozinho tacou fogo _ mas isso não tem como o satélite saber, só pessoalmente para a equipe de bombeiros traçar o caminho do fogo, e dizer que todos os focos são digamos de uma só origem.</p>
<p>E porque estou explicando isso?</p>
<p>Digamos que na sua cidade tenha tido um alto número de focos, mas isso não quer dizer necessariamente que são “queimadas diferentes”, mas talvez que uma mesma queimada originou vários focos. Claro que do ponto de vista da preservação da natureza, isso não faz a menor diferença, pois quanto mais focos, mais grave é o problema.</p>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 2. Quais as quantidades de focos de queimadas por cidade? (Tabela ordenada por quantidade) </b>
</div>
<pre class="r"><code>df_foco_por_cidade &lt;- df_foco_queimadas19 %&gt;% count(municipio, sort=TRUE, name=&quot;total_focos&quot;)
paged_table(df_foco_por_cidade, options = list(rows.print = 10))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["municipio"],"name":[1],"type":["chr"],"align":["left"]},{"label":["total_focos"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"BOTUCATU","2":"978"},{"1":"BARRETOS","2":"701"},{"1":"COLOMBIA","2":"652"},{"1":"CASTILHO","2":"600"},{"1":"GUAIRA","2":"525"},{"1":"JAU","2":"512"},{"1":"TAMBAU","2":"496"},{"1":"MOGI GUACU","2":"484"},{"1":"ARAMINA","2":"455"},{"1":"TABATINGA","2":"448"},{"1":"LIMEIRA","2":"445"},{"1":"PIRACICABA","2":"445"},{"1":"ITAPETININGA","2":"444"},{"1":"ITAI","2":"432"},{"1":"PAULO DE FARIA","2":"430"},{"1":"MOGI MIRIM","2":"429"},{"1":"ORINDIUVA","2":"425"},{"1":"OLIMPIA","2":"422"},{"1":"SANTO ANTONIO DO ARACANGUA","2":"408"},{"1":"MORRO AGUDO","2":"389"},{"1":"GETULINA","2":"388"},{"1":"MARTINOPOLIS","2":"381"},{"1":"SAO PAULO","2":"376"},{"1":"IBITINGA","2":"372"},{"1":"ALTINOPOLIS","2":"355"},{"1":"ITAPEVA","2":"332"},{"1":"SERTAOZINHO","2":"332"},{"1":"ITAPIRA","2":"328"},{"1":"IARAS","2":"322"},{"1":"ROSANA","2":"321"},{"1":"CAMPINAS","2":"314"},{"1":"ICEM","2":"313"},{"1":"ITU","2":"304"},{"1":"TANABI","2":"293"},{"1":"DOIS CORREGOS","2":"289"},{"1":"IGARAPAVA","2":"286"},{"1":"TAQUARITINGA","2":"277"},{"1":"COLINA","2":"276"},{"1":"ARARAQUARA","2":"271"},{"1":"RIBEIRAO PRETO","2":"269"},{"1":"MOCOCA","2":"266"},{"1":"BOCAINA","2":"265"},{"1":"PALESTINA","2":"263"},{"1":"RIO CLARO","2":"255"},{"1":"SOROCABA","2":"255"},{"1":"MARILIA","2":"251"},{"1":"PIEDADE","2":"250"},{"1":"CASA BRANCA","2":"248"},{"1":"ITARARE","2":"239"},{"1":"NOVA EUROPA","2":"237"},{"1":"AGUAS DE SANTA BARBARA","2":"236"},{"1":"ITAPOLIS","2":"235"},{"1":"TEODORO SAMPAIO","2":"235"},{"1":"PEDREGULHO","2":"233"},{"1":"SANDOVALINA","2":"229"},{"1":"AREALVA","2":"228"},{"1":"GARCA","2":"227"},{"1":"SAO JOAO DA BOA VISTA","2":"225"},{"1":"PEDERNEIRAS","2":"224"},{"1":"BAURU","2":"221"},{"1":"BEBEDOURO","2":"214"},{"1":"ARARAS","2":"212"},{"1":"IBIUNA","2":"208"},{"1":"PIRASSUNUNGA","2":"207"},{"1":"TUPA","2":"207"},{"1":"PAULICEIA","2":"205"},{"1":"ATIBAIA","2":"201"},{"1":"CAFELANDIA","2":"199"},{"1":"JABOTICABAL","2":"195"},{"1":"SILVEIRAS","2":"194"},{"1":"IPUA","2":"193"},{"1":"ANALANDIA","2":"190"},{"1":"GUARULHOS","2":"189"},{"1":"SANTA BARBARA D'OESTE","2":"189"},{"1":"IACANGA","2":"185"},{"1":"PARAPUA","2":"185"},{"1":"RIBEIRAO BONITO","2":"184"},{"1":"SAO JOSE DO RIO PRETO","2":"183"},{"1":"LINS","2":"181"},{"1":"PONTAL","2":"181"},{"1":"PRESIDENTE EPITACIO","2":"181"},{"1":"SANTO ANTONIO DA ALEGRIA","2":"180"},{"1":"PROMISSAO","2":"177"},{"1":"AURIFLAMA","2":"174"},{"1":"FRANCA","2":"173"},{"1":"ARACATUBA","2":"172"},{"1":"CAIEIRAS","2":"170"},{"1":"PINDORAMA","2":"166"},{"1":"AGUAI","2":"165"},{"1":"CAJAMAR","2":"165"},{"1":"MATAO","2":"164"},{"1":"PORTO FELIZ","2":"163"},{"1":"SAO SIMAO","2":"162"},{"1":"MOGI DAS CRUZES","2":"161"},{"1":"ESPIRITO SANTO DO PINHAL","2":"160"},{"1":"SAO CARLOS","2":"160"},{"1":"ORLANDIA","2":"158"},{"1":"SANTA CRUZ DO RIO PARDO","2":"158"},{"1":"SANTA ISABEL","2":"158"},{"1":"ESTRELA DO NORTE","2":"157"},{"1":"SAO PEDRO","2":"157"},{"1":"DESCALVADO","2":"156"},{"1":"MIRANTE DO PARANAPANEMA","2":"155"},{"1":"BARRA DO TURVO","2":"154"},{"1":"JUNDIAI","2":"154"},{"1":"MONTE ALTO","2":"154"},{"1":"PIRAPORA DO BOM JESUS","2":"153"},{"1":"PENAPOLIS","2":"151"},{"1":"AGUDOS","2":"150"},{"1":"BROTAS","2":"150"},{"1":"ECHAPORA","2":"150"},{"1":"ITUVERAVA","2":"150"},{"1":"JOSE BONIFACIO","2":"149"},{"1":"RANCHARIA","2":"149"},{"1":"ITAJOBI","2":"147"},{"1":"PIRANGI","2":"146"},{"1":"GUARACI","2":"142"},{"1":"MAIRIPORA","2":"141"},{"1":"GUAICARA","2":"139"},{"1":"PITANGUEIRAS","2":"139"},{"1":"SAO JOAQUIM DA BARRA","2":"139"},{"1":"GUAPIACU","2":"138"},{"1":"MAIRINQUE","2":"137"},{"1":"ADAMANTINA","2":"136"},{"1":"BOA ESPERANCA DO SUL","2":"136"},{"1":"GUAIMBE","2":"136"},{"1":"BARRA BONITA","2":"135"},{"1":"CAJOBI","2":"135"},{"1":"TAIUVA","2":"134"},{"1":"URU","2":"131"},{"1":"BRAGANCA PAULISTA","2":"130"},{"1":"CAPIVARI","2":"130"},{"1":"MIRASSOL","2":"130"},{"1":"AMPARO","2":"129"},{"1":"SANTA MARIA DA SERRA","2":"128"},{"1":"CRAVINHOS","2":"127"},{"1":"SUMARE","2":"126"},{"1":"TABAPUA","2":"126"},{"1":"BIRIGUI","2":"124"},{"1":"FLORIDA PAULISTA","2":"122"},{"1":"CATIGUA","2":"121"},{"1":"SUD MENNUCCI","2":"121"},{"1":"VOTORANTIM","2":"121"},{"1":"CHARQUEADA","2":"119"},{"1":"LEME","2":"119"},{"1":"PLANALTO","2":"119"},{"1":"PINDAMONHANGABA","2":"116"},{"1":"ARACARIGUAMA","2":"114"},{"1":"FRANCO DA ROCHA","2":"113"},{"1":"ITAPUI","2":"111"},{"1":"PAULINIA","2":"111"},{"1":"CERQUEIRA CESAR","2":"110"},{"1":"GASTAO VIDIGAL","2":"110"},{"1":"PIRAJU","2":"110"},{"1":"PRESIDENTE BERNARDES","2":"110"},{"1":"AVARE","2":"109"},{"1":"OUROESTE","2":"109"},{"1":"CATANDUVA","2":"108"},{"1":"ANDRADINA","2":"107"},{"1":"COSMOPOLIS","2":"107"},{"1":"MANDURI","2":"107"},{"1":"MARACAI","2":"106"},{"1":"OURINHOS","2":"106"},{"1":"SANTA GERTRUDES","2":"106"},{"1":"LAVINIA","2":"105"},{"1":"PARAGUACU PAULISTA","2":"105"},{"1":"AMERICANA","2":"104"},{"1":"ILHA SOLTEIRA","2":"104"},{"1":"JACAREI","2":"104"},{"1":"NOVO HORIZONTE","2":"104"},{"1":"HERCULANDIA","2":"103"},{"1":"AVANHANDAVA","2":"102"},{"1":"GUARARAPES","2":"102"},{"1":"REGINOPOLIS","2":"102"},{"1":"SALTO DE PIRAPORA","2":"101"},{"1":"NOVA INDEPENDENCIA","2":"100"},{"1":"GALIA","2":"98"},{"1":"POMPEIA","2":"98"},{"1":"GENERAL SALGADO","2":"97"},{"1":"IPORANGA","2":"97"},{"1":"ITUPEVA","2":"97"},{"1":"RIO DAS PEDRAS","2":"97"},{"1":"RINCAO","2":"95"},{"1":"TORRINHA","2":"95"},{"1":"BOITUVA","2":"94"},{"1":"SANTA ADELIA","2":"94"},{"1":"UCHOA","2":"94"},{"1":"CAJURU","2":"93"},{"1":"GUARATINGUETA","2":"93"},{"1":"PALMITAL","2":"93"},{"1":"CONCHAL","2":"92"},{"1":"TURMALINA","2":"92"},{"1":"BATATAIS","2":"91"},{"1":"ELIAS FAUSTO","2":"91"},{"1":"MIGUELOPOLIS","2":"91"},{"1":"SAO JOSE DOS CAMPOS","2":"91"},{"1":"SAO JOAO DE IRACEMA","2":"90"},{"1":"SANTO ANTONIO DE POSSE","2":"89"},{"1":"SERRA AZUL","2":"89"},{"1":"BURI","2":"88"},{"1":"MINEIROS DO TIETE","2":"88"},{"1":"MONTE MOR","2":"88"},{"1":"NAZARE PAULISTA","2":"88"},{"1":"CACAPAVA","2":"87"},{"1":"PORTO FERREIRA","2":"87"},{"1":"SAO ROQUE","2":"87"},{"1":"TAUBATE","2":"87"},{"1":"ITAPORANGA","2":"86"},{"1":"COSMORAMA","2":"85"},{"1":"CUNHA","2":"85"},{"1":"ITIRAPINA","2":"85"},{"1":"PIRAJUI","2":"84"},{"1":"SAGRES","2":"84"},{"1":"INDAIATUBA","2":"83"},{"1":"SANTA RITA DO PASSA QUATRO","2":"83"},{"1":"BORACEIA","2":"82"},{"1":"GUARAREMA","2":"82"},{"1":"ALVARES FLORENCE","2":"81"},{"1":"CARDOSO","2":"81"},{"1":"TATUI","2":"81"},{"1":"GUAPIARA","2":"79"},{"1":"PONTES GESTAL","2":"79"},{"1":"TEJUPA","2":"79"},{"1":"FERNANDO PRESTES","2":"78"},{"1":"TAQUARAL","2":"78"},{"1":"BORBOREMA","2":"77"},{"1":"POTIRENDABA","2":"77"},{"1":"SAO JOSE DO RIO PARDO","2":"77"},{"1":"SAO PEDRO DO TURVO","2":"77"},{"1":"CASSIA DOS COQUEIROS","2":"76"},{"1":"PILAR DO SUL","2":"76"},{"1":"SERRANA","2":"76"},{"1":"URUPES","2":"76"},{"1":"VALINHOS","2":"76"},{"1":"AREIAS","2":"75"},{"1":"ESTIVA GERBI","2":"75"},{"1":"GUARANTA","2":"75"},{"1":"JUNQUEIROPOLIS","2":"75"},{"1":"PIRACAIA","2":"75"},{"1":"RIOLANDIA","2":"75"},{"1":"ANGATUBA","2":"74"},{"1":"CAMPINA DO MONTE ALEGRE","2":"73"},{"1":"ESPIRITO SANTO DO TURVO","2":"73"},{"1":"MARAPOAMA","2":"73"},{"1":"PRESIDENTE PRUDENTE","2":"73"},{"1":"ALTAIR","2":"72"},{"1":"ARIRANHA","2":"72"},{"1":"NOVA ODESSA","2":"72"},{"1":"PATROCINIO PAULISTA","2":"71"},{"1":"SEVERINIA","2":"71"},{"1":"UBIRAJARA","2":"71"},{"1":"LUTECIA","2":"70"},{"1":"MAUA","2":"70"},{"1":"SERRA NEGRA","2":"70"},{"1":"TAPIRATIBA","2":"70"},{"1":"ESTRELA D'OESTE","2":"69"},{"1":"UBARANA","2":"69"},{"1":"ITATINGA","2":"68"},{"1":"NHANDEARA","2":"68"},{"1":"PARISI","2":"68"},{"1":"PONGAI","2":"68"},{"1":"REDENCAO DA SERRA","2":"68"},{"1":"ARACOIABA DA SERRA","2":"67"},{"1":"IBIRAREMA","2":"67"},{"1":"NARANDIBA","2":"66"},{"1":"PARANAPANEMA","2":"66"},{"1":"SUZANO","2":"65"},{"1":"SANTA CRUZ DAS PALMEIRAS","2":"64"},{"1":"ZACARIAS","2":"64"},{"1":"BARIRI","2":"63"},{"1":"GUARA","2":"63"},{"1":"JARINU","2":"63"},{"1":"JERIQUARA","2":"63"},{"1":"MAGDA","2":"63"},{"1":"ARANDU","2":"62"},{"1":"BREJO ALEGRE","2":"62"},{"1":"IRACEMAPOLIS","2":"62"},{"1":"PRATANIA","2":"61"},{"1":"SANTA ROSA DE VITERBO","2":"61"},{"1":"ARTUR NOGUEIRA","2":"60"},{"1":"CAMPO LIMPO PAULISTA","2":"60"},{"1":"PIRATININGA","2":"60"},{"1":"CAPAO BONITO","2":"59"},{"1":"CRISTAIS PAULISTA","2":"59"},{"1":"LUIS ANTONIO","2":"58"},{"1":"ASSIS","2":"57"},{"1":"IGARACU DO TIETE","2":"57"},{"1":"MONTE AZUL PAULISTA","2":"57"},{"1":"SALES OLIVEIRA","2":"57"},{"1":"ITAPURA","2":"56"},{"1":"PARAISO","2":"56"},{"1":"CRUZALIA","2":"55"},{"1":"PONTALINDA","2":"55"},{"1":"SAO MANUEL","2":"55"},{"1":"VARGEM GRANDE DO SUL","2":"55"},{"1":"IBIRA","2":"54"},{"1":"SANTANA DE PARNAIBA","2":"54"},{"1":"ELDORADO","2":"53"},{"1":"JARDINOPOLIS","2":"53"},{"1":"PIRAPOZINHO","2":"53"},{"1":"CORUMBATAI","2":"52"},{"1":"GAVIAO PEIXOTO","2":"52"},{"1":"JALES","2":"52"},{"1":"MARABA PAULISTA","2":"52"},{"1":"NOVA GRANADA","2":"52"},{"1":"SANTA ALBERTINA","2":"52"},{"1":"SAO MIGUEL ARCANJO","2":"52"},{"1":"ALUMINIO","2":"51"},{"1":"CHAVANTES","2":"51"},{"1":"FLORINEA","2":"51"},{"1":"IRAPUA","2":"51"},{"1":"MENDONCA","2":"51"},{"1":"PEREIRA BARRETO","2":"51"},{"1":"AVAI","2":"50"},{"1":"GUARACAI","2":"50"},{"1":"IBATE","2":"50"},{"1":"JAGUARIUNA","2":"50"},{"1":"MACATUBA","2":"50"},{"1":"SAO BERNARDO DO CAMPO","2":"50"},{"1":"VOTUPORANGA","2":"50"},{"1":"CABREUVA","2":"49"},{"1":"MIRANDOPOLIS","2":"49"},{"1":"MONTE APRAZIVEL","2":"49"},{"1":"SAO JOSE DA BELA VISTA","2":"49"},{"1":"VERA CRUZ","2":"49"},{"1":"CACHOEIRA PAULISTA","2":"48"},{"1":"CAJATI","2":"48"},{"1":"COTIA","2":"48"},{"1":"GUARIBA","2":"48"},{"1":"BARBOSA","2":"47"},{"1":"ITATIBA","2":"47"},{"1":"JABORANDI","2":"47"},{"1":"OSVALDO CRUZ","2":"47"},{"1":"RAFARD","2":"47"},{"1":"CABRALIA PAULISTA","2":"46"},{"1":"MOTUCA","2":"46"},{"1":"PACAEMBU","2":"46"},{"1":"REGENTE FEIJO","2":"46"},{"1":"BASTOS","2":"45"},{"1":"CORDEIROPOLIS","2":"45"},{"1":"NEVES PAULISTA","2":"45"},{"1":"PALMARES PAULISTA","2":"45"},{"1":"ONDA VERDE","2":"44"},{"1":"SAO JOSE DO BARREIRO","2":"44"},{"1":"TERRA ROXA","2":"44"},{"1":"CAPELA DO ALTO","2":"43"},{"1":"FLOREAL","2":"43"},{"1":"GLICERIO","2":"43"},{"1":"VALPARAISO","2":"43"},{"1":"EUCLIDES DA CUNHA PAULISTA","2":"42"},{"1":"HORTOLANDIA","2":"42"},{"1":"LORENA","2":"42"},{"1":"IPEUNA","2":"41"},{"1":"ITOBI","2":"41"},{"1":"NUPORANGA","2":"41"},{"1":"CRUZEIRO","2":"40"},{"1":"FARTURA","2":"40"},{"1":"IGARATA","2":"40"},{"1":"ORIENTE","2":"40"},{"1":"APIAI","2":"39"},{"1":"BERNARDINO DE CAMPOS","2":"39"},{"1":"RIBEIRAO BRANCO","2":"39"},{"1":"TACIBA","2":"39"},{"1":"TAPIRAI","2":"39"},{"1":"ARUJA","2":"38"},{"1":"BOM JESUS DOS PERDOES","2":"38"},{"1":"ROSEIRA","2":"38"},{"1":"IPAUSSU","2":"37"},{"1":"ITIRAPUA","2":"37"},{"1":"LUCELIA","2":"37"},{"1":"SALTO","2":"37"},{"1":"SALTO GRANDE","2":"37"},{"1":"SANTA ERNESTINA","2":"37"},{"1":"DOURADO","2":"36"},{"1":"DRACENA","2":"36"},{"1":"MIRA ESTRELA","2":"36"},{"1":"NATIVIDADE DA SERRA","2":"36"},{"1":"TARUMA","2":"36"},{"1":"CEDRAL","2":"35"},{"1":"FERNANDOPOLIS","2":"35"},{"1":"IPERO","2":"35"},{"1":"JACI","2":"35"},{"1":"MACEDONIA","2":"35"},{"1":"BIRITIBA MIRIM","2":"34"},{"1":"FLORA RICA","2":"33"},{"1":"IPIGUA","2":"33"},{"1":"ITAQUAQUECETUBA","2":"33"},{"1":"LENCOIS PAULISTA","2":"33"},{"1":"SARAPUI","2":"33"},{"1":"BALSAMO","2":"32"},{"1":"TAIACU","2":"32"},{"1":"BENTO DE ABREU","2":"31"},{"1":"CESARIO LANGE","2":"31"},{"1":"GUATAPARA","2":"31"},{"1":"SANTA CRUZ DA CONCEICAO","2":"31"},{"1":"SANTA FE DO SUL","2":"31"},{"1":"TURIUBA","2":"31"},{"1":"NOVAIS","2":"30"},{"1":"POPULINA","2":"30"},{"1":"BADY BASSITT","2":"29"},{"1":"GUZOLANDIA","2":"29"},{"1":"JUQUIA","2":"29"},{"1":"MIRACATU","2":"29"},{"1":"AGUAS DE LINDOIA","2":"28"},{"1":"BARRA DO CHAPEU","2":"28"},{"1":"BURITIZAL","2":"28"},{"1":"NOVA LUZITANIA","2":"28"},{"1":"PRADOPOLIS","2":"28"},{"1":"RINOPOLIS","2":"28"},{"1":"SAO LUIZ DO PARAITINGA","2":"28"},{"1":"TRABIJU","2":"28"},{"1":"VALENTIM GENTIL","2":"28"},{"1":"ANHEMBI","2":"27"},{"1":"CACONDE","2":"27"},{"1":"PARANAPUA","2":"27"},{"1":"PEDRA BELA","2":"27"},{"1":"PORANGABA","2":"27"},{"1":"QUEIROZ","2":"27"},{"1":"SANTA CRUZ DA ESPERANCA","2":"27"},{"1":"TRES FRONTEIRAS","2":"27"},{"1":"ITAJU","2":"26"},{"1":"JAMBEIRO","2":"26"},{"1":"PIACATU","2":"26"},{"1":"ANHUMAS","2":"25"},{"1":"BURITAMA","2":"25"},{"1":"CAMPOS NOVOS PAULISTA","2":"25"},{"1":"ITABERA","2":"25"},{"1":"ITAPEVI","2":"25"},{"1":"REGISTRO","2":"25"},{"1":"SOCORRO","2":"25"},{"1":"TAQUARITUBA","2":"25"},{"1":"TIETE","2":"25"},{"1":"EMBU-GUACU","2":"24"},{"1":"NOVA ALIANCA","2":"24"},{"1":"PALMEIRA D'OESTE","2":"24"},{"1":"PARAIBUNA","2":"24"},{"1":"QUATA","2":"24"},{"1":"RIBEIRAO CORRENTE","2":"24"},{"1":"VINHEDO","2":"24"},{"1":"CANDIDO RODRIGUES","2":"23"},{"1":"CORONEL MACEDO","2":"23"},{"1":"ITAPECERICA DA SERRA","2":"23"},{"1":"JACUPIRANGA","2":"23"},{"1":"JUQUITIBA","2":"23"},{"1":"LARANJAL PAULISTA","2":"23"},{"1":"MACAUBAL","2":"23"},{"1":"PANORAMA","2":"23"},{"1":"SALESOPOLIS","2":"23"},{"1":"SUZANAPOLIS","2":"23"},{"1":"BANANAL","2":"22"},{"1":"COROADOS","2":"22"},{"1":"ENGENHEIRO COELHO","2":"22"},{"1":"IEPE","2":"22"},{"1":"MOMBUCA","2":"22"},{"1":"SANTA RITA D'OESTE","2":"22"},{"1":"SANTO ANASTACIO","2":"22"},{"1":"CANDIDO MOTA","2":"21"},{"1":"LAGOINHA","2":"21"},{"1":"POLONI","2":"21"},{"1":"SALMOURAO","2":"21"},{"1":"SANTA LUCIA","2":"21"},{"1":"SANTO ANTONIO DO JARDIM","2":"21"},{"1":"ADOLFO","2":"20"},{"1":"AMERICO BRASILIENSE","2":"20"},{"1":"APARECIDA","2":"20"},{"1":"BARRINHA","2":"20"},{"1":"BOFETE","2":"20"},{"1":"CAIUA","2":"20"},{"1":"RESTINGA","2":"20"},{"1":"SAO JOAO DAS DUAS PONTES","2":"20"},{"1":"AMERICO DE CAMPOS","2":"19"},{"1":"BRODOWSKI","2":"19"},{"1":"DOBRADA","2":"19"},{"1":"EMBU DAS ARTES","2":"19"},{"1":"GABRIEL MONTEIRO","2":"19"},{"1":"IRAPURU","2":"19"},{"1":"ITAPIRAPUA PAULISTA","2":"19"},{"1":"PIQUEROBI","2":"19"},{"1":"SAO LOURENCO DA SERRA","2":"19"},{"1":"URANIA","2":"19"},{"1":"VARGEM","2":"19"},{"1":"ALTO ALEGRE","2":"18"},{"1":"CERQUILHO","2":"18"},{"1":"DUMONT","2":"18"},{"1":"JOANOPOLIS","2":"18"},{"1":"MARINOPOLIS","2":"18"},{"1":"MERIDIANO","2":"18"},{"1":"NOVA CASTILHO","2":"18"},{"1":"OLEO","2":"18"},{"1":"PIQUETE","2":"18"},{"1":"SANTA SALETE","2":"18"},{"1":"SANTANA DA PONTE PENSA","2":"18"},{"1":"SARUTAIA","2":"18"},{"1":"TIMBURI","2":"18"},{"1":"TREMEMBE","2":"18"},{"1":"CONCHAS","2":"17"},{"1":"ELISIARIO","2":"17"},{"1":"ITAOCA","2":"17"},{"1":"LAVRINHAS","2":"17"},{"1":"MONTE CASTELO","2":"17"},{"1":"NOVA CAMPINA","2":"17"},{"1":"RIBEIRAO GRANDE","2":"17"},{"1":"TUPI PAULISTA","2":"17"},{"1":"UNIAO PAULISTA","2":"17"},{"1":"FRANCISCO MORATO","2":"16"},{"1":"GUAREI","2":"16"},{"1":"IGUAPE","2":"16"},{"1":"LOUVEIRA","2":"16"},{"1":"OURO VERDE","2":"16"},{"1":"SETE BARRAS","2":"16"},{"1":"TUIUTI","2":"16"},{"1":"VIRADOURO","2":"16"},{"1":"VISTA ALEGRE DO ALTO","2":"16"},{"1":"AREIOPOLIS","2":"15"},{"1":"ASPASIA","2":"15"},{"1":"BARUERI","2":"15"},{"1":"BILAC","2":"15"},{"1":"CANITAR","2":"15"},{"1":"LOURDES","2":"15"},{"1":"MONTE ALEGRE DO SUL","2":"15"},{"1":"PINHALZINHO","2":"15"},{"1":"SABINO","2":"15"},{"1":"SANTO ANDRE","2":"15"},{"1":"ALVARES MACHADO","2":"14"},{"1":"DIVINOLANDIA","2":"14"},{"1":"DOLCINOPOLIS","2":"14"},{"1":"JULIO MESQUITA","2":"14"},{"1":"OCAUCU","2":"14"},{"1":"PLATINA","2":"14"},{"1":"PRESIDENTE VENCESLAU","2":"14"},{"1":"RIBEIRAO PIRES","2":"14"},{"1":"SANTA BRANCA","2":"14"},{"1":"SAO JOAO DO PAU D'ALHO","2":"14"},{"1":"ALVINLANDIA","2":"13"},{"1":"CLEMENTINA","2":"13"},{"1":"EMBAUBA","2":"13"},{"1":"PEDRANOPOLIS","2":"13"},{"1":"PEDREIRA","2":"13"},{"1":"QUADRA","2":"13"},{"1":"SAO SEBASTIAO DA GRAMA","2":"13"},{"1":"IACRI","2":"12"},{"1":"INDIANA","2":"12"},{"1":"CAMPOS DO JORDAO","2":"11"},{"1":"DUARTINA","2":"11"},{"1":"JOAO RAMALHO","2":"11"},{"1":"PEDRO DE TOLEDO","2":"11"},{"1":"QUINTANA","2":"11"},{"1":"RIBEIRA","2":"11"},{"1":"VARZEA PAULISTA","2":"11"},{"1":"PAULISTANIA","2":"10"},{"1":"RUBINEIA","2":"10"},{"1":"SALES","2":"10"},{"1":"SEBASTIANOPOLIS DO SUL","2":"10"},{"1":"TARABAI","2":"10"},{"1":"VARGEM GRANDE PAULISTA","2":"10"},{"1":"ARCO-IRIS","2":"9"},{"1":"FERNAO","2":"9"},{"1":"PARDINHO","2":"9"},{"1":"APARECIDA D'OESTE","2":"8"},{"1":"CANAS","2":"8"},{"1":"CARAGUATATUBA","2":"8"},{"1":"MESOPOLIS","2":"8"},{"1":"MONCOES","2":"8"},{"1":"PRESIDENTE ALVES","2":"8"},{"1":"RIBEIRAO DO SUL","2":"8"},{"1":"RIFAINA","2":"8"},{"1":"RUBIACEA","2":"8"},{"1":"TAGUAI","2":"8"},{"1":"ARAPEI","2":"7"},{"1":"GUARANI D'OESTE","2":"7"},{"1":"HOLAMBRA","2":"7"},{"1":"LUIZIANIA","2":"7"},{"1":"NOVA GUATAPORANGA","2":"7"},{"1":"OSASCO","2":"7"},{"1":"PARIQUERA-ACU","2":"7"},{"1":"PRAIA GRANDE","2":"7"},{"1":"QUELUZ","2":"7"},{"1":"SALTINHO","2":"7"},{"1":"SANTA MERCEDES","2":"7"},{"1":"AGUAS DA PRATA","2":"6"},{"1":"ALAMBARI","2":"6"},{"1":"CARAPICUIBA","2":"6"},{"1":"ILHA COMPRIDA","2":"6"},{"1":"INDIAPORA","2":"6"},{"1":"INUBIA PAULISTA","2":"6"},{"1":"MONTEIRO LOBATO","2":"6"},{"1":"NANTES","2":"6"},{"1":"RIVERSUL","2":"6"},{"1":"SAO CAETANO DO SUL","2":"6"},{"1":"VITORIA BRASIL","2":"6"},{"1":"GUARUJA","2":"5"},{"1":"ITARIRI","2":"5"},{"1":"JUMIRIM","2":"5"},{"1":"LUCIANOPOLIS","2":"5"},{"1":"PEREIRAS","2":"5"},{"1":"RIBEIRAO DOS INDIOS","2":"5"},{"1":"SANTA CLARA D'OESTE","2":"5"},{"1":"SAO VICENTE","2":"5"},{"1":"BOREBI","2":"4"},{"1":"CAIABU","2":"4"},{"1":"CANANEIA","2":"4"},{"1":"DIADEMA","2":"4"},{"1":"JANDIRA","2":"4"},{"1":"PEDRINHAS PAULISTA","2":"4"},{"1":"SANTOS","2":"4"},{"1":"TABOAO DA SERRA","2":"4"},{"1":"TORRE DE PEDRA","2":"4"},{"1":"BARAO DE ANTONINA","2":"3"},{"1":"CUBATAO","2":"3"},{"1":"EMILIANOPOLIS","2":"3"},{"1":"LINDOIA","2":"3"},{"1":"LUPERCIO","2":"3"},{"1":"MORUNGABA","2":"3"},{"1":"MURUTINGA DO SUL","2":"3"},{"1":"NOVA CANAA PAULISTA","2":"3"},{"1":"POTIM","2":"3"},{"1":"PRACINHA","2":"3"},{"1":"SAO SEBASTIAO","2":"3"},{"1":"UBATUBA","2":"3"},{"1":"AGUAS DE SAO PEDRO","2":"2"},{"1":"ALVARO DE CARVALHO","2":"2"},{"1":"BALBINOS","2":"2"},{"1":"FERRAZ DE VASCONCELOS","2":"2"},{"1":"ITANHAEM","2":"2"},{"1":"MIRASSOLANDIA","2":"2"},{"1":"SANTO ANTONIO DO PINHAL","2":"2"},{"1":"SANTO EXPEDITO","2":"2"},{"1":"SANTOPOLIS DO AGUAPEI","2":"2"},{"1":"SAO BENTO DO SAPUCAI","2":"2"},{"1":"ALFREDO MARCONDES","2":"1"},{"1":"BOM SUCESSO DE ITARARE","2":"1"},{"1":"BORA","2":"1"},{"1":"BRAUNA","2":"1"},{"1":"MARIAPOLIS","2":"1"},{"1":"MONGAGUA","2":"1"},{"1":"NIPOA","2":"1"},{"1":"POA","2":"1"},{"1":"RIO GRANDE DA SERRA","2":"1"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><br /></p>
<p>Vamos aproveitar e obtermos a média, a mediana e o desvio padrão de focos de queimadas por cidade.</p>
<p><br /></p>
<pre class="r"><code>print(paste(&quot;Média:&quot;, mean(df_foco_por_cidade$total_focos))) # Média</code></pre>
<pre><code>## [1] &quot;Média: 86.1598746081505&quot;</code></pre>
<pre class="r"><code>print(paste(&quot;Mediana:&quot;, median(df_foco_por_cidade$total_focos))) # Mediana</code></pre>
<pre><code>## [1] &quot;Mediana: 50&quot;</code></pre>
<pre class="r"><code>print(paste(&quot;Desvio padrão:&quot;, sd(df_foco_por_cidade$total_focos))) # Desvio padrão</code></pre>
<pre><code>## [1] &quot;Desvio padrão: 108.42678112285&quot;</code></pre>
<p><br /></p>
<p>Quanto maior o afastamento do desvio da padrão da média, sugere uma alta variabilidade dos dados e até a presença dos chamados <code>outliers</code>, ou seja, valores muito fora do padrão. A mediana menor que a média também sugere a presença dos outliers, e um gráfico com a “cauda” maior para a direita. Vamos fazer um histograma, para vermos se isso confere.</p>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 3. Plotar um histograma para termos uma noção da distribuição da quantidade de focos de queimadas por cidade </b>
</div>
<pre class="r"><code>hchart(hist(df_foco_por_cidade$total_focos, breaks = 40, plot = FALSE)) %&gt;%
hc_title(text = &#39;Focos de queimadas por cidades do estado de SP (2019)&#39;) %&gt;%
hc_subtitle(text = &quot;Fonte: INPE&quot;) %&gt;%
hc_yAxis(title = list(text = &quot;Quantidade de cidades&quot;, labels = list(format =&quot;{value: %b}&quot;), style = list(color = &#39;#333333&#39;, fontFamily = &quot;Arial&quot;))) %&gt;%
hc_xAxis(title = list(text = &quot;Focos de queimadas&quot;), style = list(color = &#39;#333333&#39;, fontFamily = &quot;Arial&quot;)) %&gt;%
hc_add_theme(hc_theme_flat()) %&gt;%
hc_size(NULL, 600)</code></pre>
<div id="htmlwidget-289fac3dbec10d14e8b5" style="width:100%;height:600px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-289fac3dbec10d14e8b5">{"x":{"hc_opts":{"title":{"text":"Focos de queimadas por cidades do estado de SP (2019)"},"yAxis":{"title":{"text":"Quantidade de cidades","labels":{"format":"{value: %b}"},"style":{"color":"#333333","fontFamily":"Arial"}}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"chart":{"zoomType":"x"},"tooltip":{"formatter":"function() { return  this.point.name + '<br/>' + this.y; }"},"series":[{"data":[{"x":10,"y":176,"name":"(0, 20]"},{"x":30,"y":107,"name":"(20, 40]"},{"x":50,"y":76,"name":"(40, 60]"},{"x":70,"y":59,"name":"(60, 80]"},{"x":90,"y":45,"name":"(80, 100]"},{"x":110,"y":32,"name":"(100, 120]"},{"x":130,"y":25,"name":"(120, 140]"},{"x":150,"y":24,"name":"(140, 160]"},{"x":170,"y":13,"name":"(160, 180]"},{"x":190,"y":14,"name":"(180, 200]"},{"x":210,"y":7,"name":"(200, 220]"},{"x":230,"y":12,"name":"(220, 240]"},{"x":250,"y":5,"name":"(240, 260]"},{"x":270,"y":7,"name":"(260, 280]"},{"x":290,"y":3,"name":"(280, 300]"},{"x":310,"y":3,"name":"(300, 320]"},{"x":330,"y":5,"name":"(320, 340]"},{"x":350,"y":1,"name":"(340, 360]"},{"x":370,"y":2,"name":"(360, 380]"},{"x":390,"y":3,"name":"(380, 400]"},{"x":410,"y":1,"name":"(400, 420]"},{"x":430,"y":5,"name":"(420, 440]"},{"x":450,"y":5,"name":"(440, 460]"},{"x":470,"y":0,"name":"(460, 480]"},{"x":490,"y":2,"name":"(480, 500]"},{"x":510,"y":1,"name":"(500, 520]"},{"x":530,"y":1,"name":"(520, 540]"},{"x":550,"y":0,"name":"(540, 560]"},{"x":570,"y":0,"name":"(560, 580]"},{"x":590,"y":1,"name":"(580, 600]"},{"x":610,"y":0,"name":"(600, 620]"},{"x":630,"y":0,"name":"(620, 640]"},{"x":650,"y":1,"name":"(640, 660]"},{"x":670,"y":0,"name":"(660, 680]"},{"x":690,"y":0,"name":"(680, 700]"},{"x":710,"y":1,"name":"(700, 720]"},{"x":730,"y":0,"name":"(720, 740]"},{"x":750,"y":0,"name":"(740, 760]"},{"x":770,"y":0,"name":"(760, 780]"},{"x":790,"y":0,"name":"(780, 800]"},{"x":810,"y":0,"name":"(800, 820]"},{"x":830,"y":0,"name":"(820, 840]"},{"x":850,"y":0,"name":"(840, 860]"},{"x":870,"y":0,"name":"(860, 880]"},{"x":890,"y":0,"name":"(880, 900]"},{"x":910,"y":0,"name":"(900, 920]"},{"x":930,"y":0,"name":"(920, 940]"},{"x":950,"y":0,"name":"(940, 960]"},{"x":970,"y":1,"name":"(960, 980]"}],"type":"column","pointRange":20,"groupPadding":0,"pointPadding":0,"borderWidth":0}],"subtitle":{"text":"Fonte: INPE"},"xAxis":{"title":{"text":"Focos de queimadas"},"style":{"color":"#333333","fontFamily":"Arial"}}},"theme":{"colors":["#f1c40f","#2ecc71","#9b59b6","#e74c3c","#34495e","#3498db","#1abc9c","#f39c12","#d35400"],"chart":{"backgroundColor":"#ECF0F1"},"xAxis":{"gridLineDashStyle":"Dash","gridLineWidth":1,"gridLineColor":"#BDC3C7","lineColor":"#BDC3C7","minorGridLineColor":"#BDC3C7","tickColor":"#BDC3C7","tickWidth":1},"yAxis":{"gridLineDashStyle":"Dash","gridLineColor":"#BDC3C7","lineColor":"#BDC3C7","minorGridLineColor":"#BDC3C7","tickColor":"#BDC3C7","tickWidth":1},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#34495e","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Arial","debug":false},"evals":["hc_opts.tooltip.formatter"],"jsHooks":[]}</script>
<p><br /></p>
<p>A maior parte dos dados se concentra de <strong>0 até 200 focos de queimadas</strong>. O que pensamos sobre o desvio padrão foi correto, temos alguns valores que estão muito fora da média, como os que vem depois de 300 focos de queimadas, no eixo horizontal <code>x</code>.</p>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 4. Biomas mais atingidos </b>
</div>
<pre class="r"><code>df_foco_por_bioma &lt;- df_foco_queimadas19 %&gt;% count(bioma, sort = TRUE, name = &quot;total_focos&quot;)
df_foco_por_bioma$total_porcento &lt;- round(df_foco_por_bioma$total_focos / sum(df_foco_por_bioma$total_focos) * 100, 2)
#paged_table(df_foco_por_bioma, options = list(rows.print = 10))

colors &lt;- c(&quot;#2ecc71&quot;, &quot;#d35400&quot;)
highchart() %&gt;% 
  hc_add_series(df_foco_por_bioma, &quot;pie&quot;, hcaes(name = bioma, y = total_focos, color=colors), name = &quot;Bioma&quot;)  %&gt;%
  hc_plotOptions(
    pie = list(
      colorByPoint = TRUE, center = c(&#39;50%&#39;, &#39;50%&#39;),
      size = 200, dataLabels = list(enabled = TRUE)
    )) %&gt;%
hc_title(text = &#39;Focos de queimadas por biomas no estado de SP (2019)&#39;) %&gt;%
hc_subtitle(text = &quot;Fonte: INPE&quot;) %&gt;%
hc_size(NULL, 350)</code></pre>
<div id="htmlwidget-2cc84dc6c06ea362679f" style="width:100%;height:350px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-2cc84dc6c06ea362679f">{"x":{"hc_opts":{"title":{"text":"Focos de queimadas por biomas no estado de SP (2019)"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"},"pie":{"colorByPoint":true,"center":["50%","50%"],"size":200,"dataLabels":{"enabled":true}}},"series":[{"group":"group","data":[{"bioma":"Mata Atlantica","total_focos":31181,"total_porcento":56.72,"y":31181,"name":"Mata Atlantica","color":"#2ecc71"},{"bioma":"Cerrado","total_focos":23789,"total_porcento":43.28,"y":23789,"name":"Cerrado","color":"#d35400"}],"type":"pie","name":"Bioma"}],"subtitle":{"text":"Fonte: INPE"}},"theme":{"chart":{"backgroundColor":"transparent"}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p><br /></p>
<p>O estado de São Paulo possui apenas dois biomas: cerrado e mata atlântica. Aqui é importante salientar, o que sobrou da <code>mata atlântica</code> no estado é cerca de apenas 8% da área total (e já foi mais de 80% da mata original), e apenas 1% do bioma <code>cerrado</code> (que já cobriu mais de 12% da área total).</p>
<p>Os focos das queimadas por biomas não estão tão distantes, com cerca de 56% na mata atlântica e 44% no cerrado.</p>
<p><br /></p>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 5. Os 10 focos mais intensos de acordo com o FPR (fire radiative power). Mostrar em uma tabela, contendo a data do ocorrido, a cidade, o bioma além do FRP e do nível do risco fogo. </b>
</div>
<pre class="r"><code>df_foco_queimadas19_fpr &lt;- head(df_foco_queimadas19[!is.na(df_foco_queimadas19$frp), ] %&gt;% arrange(desc(frp)), n=10)
sql &lt;- &quot;SELECT datahora, municipio, bioma, frp, riscofogo_nivel FROM df_foco_queimadas19_fpr&quot;
df_foco_queimadas19_fpr_sel &lt;- sqldf(sql)
paged_table(df_foco_queimadas19_fpr_sel, options = list(rows.print = 10))</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["datahora"],"name":[1],"type":["chr"],"align":["left"]},{"label":["municipio"],"name":[2],"type":["chr"],"align":["left"]},{"label":["bioma"],"name":[3],"type":["chr"],"align":["left"]},{"label":["frp"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["riscofogo_nivel"],"name":[5],"type":["chr"],"align":["left"]}],"data":[{"1":"2019/10/12 17:40:00","2":"TEODORO SAMPAIO","3":"Mata Atlantica","4":"1935.5","5":"Crítico"},{"1":"2019/10/27 17:00:00","2":"ELIAS FAUSTO","3":"Mata Atlantica","4":"1612.6","5":"Crítico"},{"1":"2019/09/18 16:55:00","2":"COLOMBIA","3":"Cerrado","4":"1530.9","5":"Crítico"},{"1":"2019/09/18 14:05:00","2":"PAULO DE FARIA","3":"Mata Atlantica","4":"1415.5","5":"Crítico"},{"1":"2019/09/18 16:55:00","2":"COLOMBIA","3":"Cerrado","4":"1304.1","5":"Crítico"},{"1":"2019/08/01 16:55:00","2":"JABOTICABAL","3":"Cerrado","4":"1251.7","5":"Crítico"},{"1":"2019/08/31 17:05:00","2":"CATIGUA","3":"Mata Atlantica","4":"1102.5","5":"Mínimo"},{"1":"2019/09/18 14:05:00","2":"PAULO DE FARIA","3":"Mata Atlantica","4":"986.6","5":"Crítico"},{"1":"2019/08/01 16:55:00","2":"JABOTICABAL","3":"Cerrado","4":"961.1","5":"Crítico"},{"1":"2019/08/01 16:55:00","2":"TAIUVA","3":"Cerrado","4":"922.2","5":"Crítico"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p><br /></p>
<p>Perceba que alguns destes níveis do FRP têm a mesma data hora e cidade, provavelmente foram locais próximos monitorados pelos satélites. Vale a pena em alguns casos buscar por notícias, imagens do ocorrido para termos noção do que os números acima representam na realidade, a fim de nos colocar mais próximos dela.</p>
<p>Procurei nos sites de notícias algumas informações sobre a queimada em Teodoro Sampaio por volta da data de 12 de outubro de 2019, e o que encontrei foi essa matéria de 10 dias depois do ocorrido: <a href="https://g1.globo.com/sp/presidente-prudente-regiao/noticia/2019/10/22/danos-ambientais-provocados-por-queimadas-em-canaviais-resultam-em-multas-de-quase-r-1-milhao-a-usinas-sucroalcooleiras.ghtml" target="_blank">G1 - Danos ambientais provocados por queimadas em canaviais resultam em multas de quase R$ 1 milhão a usinas sucroalcooleiras</a>.</p>
<p>Mais notícias:</p>
<ul>
<li><a href="https://g1.globo.com/sp/ribeirao-preto-franca/noticia/2019/09/20/barretos-e-colombia-estao-entre-as-3-com-mais-focos-de-queimadas-em-2019-no-estado-de-sp-diz-inpe.ghtml" target="_blank">G1 - Barretos e Colômbia estão entre as 3 com mais focos de queimadas em 2019 no estado de SP, diz Inpe</a></li>
<li><a href="https://www.odiarioonline.com.br/noticia/87519/CORPO-DE-BOMBEIROS-CONFIRMA-CONTROLE-DE-INCENDIO-EM-COLOMBIA-" target="_blank">O Diário - Corpo de bombeiros confirma controle de incêndio em Colômbia</a></li>
</ul>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 6. Focos de queimadas por períodos do dia </b>
</div>
<pre class="r"><code>df_foco_queimadas19$dia_nome_semana &lt;- weekdays(as.Date(df_foco_queimadas19$data)) # Obter o dia da semana (nome)
df_foco_queimadas19$dia_semana &lt;- wday(as.Date(df_foco_queimadas19$data)) # Obter o dia da semana (número)
df_foco_queimadas19$nome_mes &lt;- months(as.Date(df_foco_queimadas19$data)) # Obter o nome do mês
df_foco_queimadas19$mes &lt;- month(as.Date(df_foco_queimadas19$data)) # Obter o mês</code></pre>
<pre class="r"><code>df_foco_por_periodo_dia &lt;- df_foco_queimadas19 %&gt;% group_by(periodo_dia) %&gt;% tally(name=&quot;total&quot;) %&gt;% arrange(desc(total))
highchart() %&gt;% 
  hc_add_series(df_foco_por_periodo_dia, &quot;column&quot;, hcaes(x = periodo_dia, y = total, color=c(&quot;#995533&quot;)), name = &quot;Período do dia&quot;) %&gt;%
  hc_xAxis(categories = df_foco_por_periodo_dia$periodo_dia) %&gt;%
  hc_title(text = &#39;Focos de queimadas por período do dia no estado de SP (2019)&#39;) %&gt;%
  hc_subtitle(text = &quot;Fonte: INPE&quot;) %&gt;%
  hc_add_theme(hc_theme_google()) %&gt;%
  hc_size(NULL, 450)</code></pre>
<div id="htmlwidget-ef4136d7a190636cd00f" style="width:100%;height:450px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-ef4136d7a190636cd00f">{"x":{"hc_opts":{"title":{"text":"Focos de queimadas por período do dia no estado de SP (2019)"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"group":"group","data":[{"periodo_dia":"Tarde","total":29946,"y":29946,"color":"#995533","name":"Tarde"},{"periodo_dia":"Madrugada","total":19740,"y":19740,"color":"#995533","name":"Madrugada"},{"periodo_dia":"Noite","total":5028,"y":5028,"color":"#995533","name":"Noite"},{"periodo_dia":"Manhã","total":256,"y":256,"color":"#995533","name":"Manhã"}],"type":"column","name":"Período do dia"}],"xAxis":{"categories":["Tarde","Madrugada","Noite","Manhã"]},"subtitle":{"text":"Fonte: INPE"}},"theme":{"colors":["#0266C8","#F90101","#F2B50F","#00933B"],"chart":{"style":{"fontFamily":"Roboto","color":"#444444"}},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#C0C0C0","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Roboto","debug":false},"evals":[],"jsHooks":[]}</script>
<p><br /></p>
<p>Como podemos acompanhar nesse gráfico, as queimadas ocorrem mais no período da tarde (mais da metade do total) e da madrugada, com bem poucas a noite e quase não ocorrem pela manhã.</p>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 7. Focos de queimadas por dias da semana </b>
</div>
<pre class="r"><code>df_foco_por_dia &lt;- df_foco_queimadas19 %&gt;% group_by(dia_nome_semana, dia_semana) %&gt;% tally(name=&quot;total&quot;) %&gt;% arrange(dia_semana)

highchart() %&gt;% 
  hc_add_series(df_foco_por_dia, &quot;column&quot;, hcaes(x = dia_nome_semana, y = total), name = &quot;Dia da semana&quot;) %&gt;%
  hc_xAxis(categories = df_foco_por_dia$dia_nome_semana) %&gt;%
  hc_title(text = &#39;Focos de queimadas por dias da semana no estado de SP (2019)&#39;) %&gt;%
  hc_subtitle(text = &quot;Fonte: INPE&quot;) %&gt;%
  hc_add_theme(hc_theme_google()) %&gt;%
  hc_size(NULL, 450)</code></pre>
<div id="htmlwidget-2cf62aae7715b475ea4e" style="width:100%;height:450px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-2cf62aae7715b475ea4e">{"x":{"hc_opts":{"title":{"text":"Focos de queimadas por dias da semana no estado de SP (2019)"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"group":"group","data":[{"dia_nome_semana":"domingo","dia_semana":1,"total":7464,"y":7464,"name":"domingo"},{"dia_nome_semana":"segunda-feira","dia_semana":2,"total":6402,"y":6402,"name":"segunda-feira"},{"dia_nome_semana":"terça-feira","dia_semana":3,"total":7389,"y":7389,"name":"terça-feira"},{"dia_nome_semana":"quarta-feira","dia_semana":4,"total":8889,"y":8889,"name":"quarta-feira"},{"dia_nome_semana":"quinta-feira","dia_semana":5,"total":8154,"y":8154,"name":"quinta-feira"},{"dia_nome_semana":"sexta-feira","dia_semana":6,"total":7971,"y":7971,"name":"sexta-feira"},{"dia_nome_semana":"sábado","dia_semana":7,"total":8701,"y":8701,"name":"sábado"}],"type":"column","name":"Dia da semana"}],"xAxis":{"categories":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},"subtitle":{"text":"Fonte: INPE"}},"theme":{"colors":["#0266C8","#F90101","#F2B50F","#00933B"],"chart":{"style":{"fontFamily":"Roboto","color":"#444444"}},"xAxis":{"gridLineWidth":1,"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"yAxis":{"gridLineColor":"#F3F3F3","lineColor":"#F3F3F3","minorGridLineColor":"#F3F3F3","tickColor":"#F3F3F3","tickWidth":1},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#C0C0C0","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":"Roboto","debug":false},"evals":[],"jsHooks":[]}</script>
<p><br /></p>
<p>O padrão das queimadas cai do domingo para segunda, vai crescendo até atingir o pico na quarta feira, cai novamente nos dias seguintes para aumentar no sábado, e domingo cai novamente. Mas as diferenças de focos de queimadas entre os dias não são relativamente altas.</p>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 8. Focos de queimadas por meses do ano </b>
</div>
<pre class="r"><code>df_foco_por_mes &lt;- df_foco_queimadas19 %&gt;% group_by(nome_mes, mes) %&gt;% tally(name=&quot;total&quot;) %&gt;% arrange(mes)

# Mudar cores do gráfico
cols &lt;- viridis(5, option = &#39;D&#39;)
thm &lt;- hc_theme(colors = cols, chart = list(backgroundColor = NULL))

highchart() %&gt;% 
  hc_add_series(df_foco_por_mes, &quot;column&quot;, hcaes(x = nome_mes, y = total), name = &quot;Mês&quot;) %&gt;%
  hc_xAxis(categories = df_foco_por_mes$nome_mes) %&gt;%
  hc_title(text = &#39;Focos de queimadas por meses do ano no estado de SP (2019)&#39;) %&gt;%
  hc_subtitle(text = &quot;Fonte: INPE&quot;) %&gt;%
  hc_add_theme(thm) %&gt;%
  hc_size(NULL, 450)</code></pre>
<div id="htmlwidget-848bc46750f0d30cfb56" style="width:100%;height:450px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-848bc46750f0d30cfb56">{"x":{"hc_opts":{"title":{"text":"Focos de queimadas por meses do ano no estado de SP (2019)"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"group":"group","data":[{"nome_mes":"janeiro","mes":1,"total":1749,"y":1749,"name":"janeiro"},{"nome_mes":"fevereiro","mes":2,"total":1062,"y":1062,"name":"fevereiro"},{"nome_mes":"março","mes":3,"total":1259,"y":1259,"name":"março"},{"nome_mes":"abril","mes":4,"total":1520,"y":1520,"name":"abril"},{"nome_mes":"maio","mes":5,"total":1776,"y":1776,"name":"maio"},{"nome_mes":"junho","mes":6,"total":4424,"y":4424,"name":"junho"},{"nome_mes":"julho","mes":7,"total":5581,"y":5581,"name":"julho"},{"nome_mes":"agosto","mes":8,"total":12063,"y":12063,"name":"agosto"},{"nome_mes":"setembro","mes":9,"total":13915,"y":13915,"name":"setembro"},{"nome_mes":"outubro","mes":10,"total":8154,"y":8154,"name":"outubro"},{"nome_mes":"novembro","mes":11,"total":2343,"y":2343,"name":"novembro"},{"nome_mes":"dezembro","mes":12,"total":1124,"y":1124,"name":"dezembro"}],"type":"column","name":"Mês"}],"xAxis":{"categories":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},"subtitle":{"text":"Fonte: INPE"}},"theme":{"colors":["#440154FF","#3B528BFF","#21908CFF","#5DC863FF","#FDE725FF"],"chart":{"backgroundColor":null}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p><br /></p>
<p>Os meses com mais queimadas são claramente os meses que costumam ser os mais secos do ano em SP, e que começam no meio do ano e vão até novembro, onde o calor começa a causar as chamadas chuvas de verão. Apenas no <code>terceiro trimestre</code> de 2019, temos mais focos que todo o restante do ano. A amplitude dos dados é bem grande, com mais de <strong>13 mil focos em setembro</strong>, contra pouco mais de <strong>mil focos de queimadas em fevereiro</strong>.</p>
<p><br /></p>
<ul>
<li>medir a correlação do risco fogo com as queimadas</li>
<li>Verificar o risco fogo por época do ano</li>
<li>Buscar relação com os dias sem chuva</li>
<li>verificar total de chuvas por mês</li>
<li>Verificar se é possível usar os dados de 2019 para treino e baixar a base de 2018 para teste usando algum algoritmo de ML</li>
</ul>
<p><br /></p>
<pre class="r"><code>glimpse(df_foco_queimadas19)</code></pre>
<pre><code>## Rows: 54,970
## Columns: 18
## $ datahora        &lt;chr&gt; &quot;2019/09/03 17:42:00&quot;, &quot;2019/09/03 17:42:00&quot;, &quot;2019...
## $ satelite        &lt;chr&gt; &quot;NPP-375&quot;, &quot;NPP-375&quot;, &quot;NPP-375&quot;, &quot;NPP-375&quot;, &quot;NPP-37...
## $ municipio       &lt;chr&gt; &quot;GUAIRA&quot;, &quot;GUAIRA&quot;, &quot;GUAIRA&quot;, &quot;GUAIRA&quot;, &quot;GUAIRA&quot;, &quot;...
## $ bioma           &lt;chr&gt; &quot;Cerrado&quot;, &quot;Cerrado&quot;, &quot;Cerrado&quot;, &quot;Cerrado&quot;, &quot;Cerrad...
## $ diasemchuva     &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ...
## $ precipitacao    &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.0...
## $ riscofogo       &lt;dbl&gt; 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.0...
## $ latitude        &lt;dbl&gt; -20.37233, -20.37030, -20.36897, -20.36388, -20.362...
## $ longitude       &lt;dbl&gt; -48.43229, -48.33683, -48.33117, -48.33862, -48.332...
## $ frp             &lt;dbl&gt; 7.4, 64.2, 64.2, 64.2, 64.2, 209.0, 39.6, 39.6, 97....
## $ data            &lt;date&gt; 2019-09-03, 2019-09-03, 2019-09-03, 2019-09-03, 20...
## $ hora            &lt;chr&gt; &quot;17:42:00&quot;, &quot;17:42:00&quot;, &quot;17:42:00&quot;, &quot;17:42:00&quot;, &quot;17...
## $ periodo_dia     &lt;chr&gt; &quot;Tarde&quot;, &quot;Tarde&quot;, &quot;Tarde&quot;, &quot;Tarde&quot;, &quot;Tarde&quot;, &quot;Tarde...
## $ riscofogo_nivel &lt;chr&gt; &quot;Mínimo&quot;, &quot;Mínimo&quot;, &quot;Mínimo&quot;, &quot;Mínimo&quot;, &quot;Mínimo&quot;, &quot;...
## $ dia_nome_semana &lt;chr&gt; &quot;terça-feira&quot;, &quot;terça-feira&quot;, &quot;terça-feira&quot;, &quot;terça...
## $ dia_semana      &lt;dbl&gt; 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 6, 6, 6, 6, 6, 6, ...
## $ nome_mes        &lt;chr&gt; &quot;setembro&quot;, &quot;setembro&quot;, &quot;setembro&quot;, &quot;setembro&quot;, &quot;se...
## $ mes             &lt;dbl&gt; 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 7, 7, 7, 7, 7, 7, ...</code></pre>
<p><br /></p>
<p>Vamos criar uma cópia do nosso dataframe principal, limpar algumas colunas.</p>
<p><br /></p>
<pre class="r"><code># Copiar dataframe
df_foco_queimadas_n &lt;- copy(df_foco_queimadas19)

# Excluir colunas
df_foco_queimadas_n$datahora &lt;- NULL
df_foco_queimadas_n$latitude &lt;- NULL
df_foco_queimadas_n$longitude &lt;- NULL
df_foco_queimadas_n$dia_nome_semana &lt;- NULL
df_foco_queimadas_n$nome_mes &lt;- NULL
df_foco_queimadas_n$hora &lt;- NULL</code></pre>
<pre class="r"><code>#unique(df_foco_queimadas_n$periodo_dia)
#df_foco_queimadas_n$periodo_dia_ord &lt;- encode_ordinal(df_foco_queimadas_n[,9, drop = FALSE], order = c(&#39;Madrugada&#39;, &#39;Manhã&#39;, &#39;Tarde&#39;, &#39;Noite&#39;), out.int=TRUE
#)
#df_foco_queimadas_n[,9]
#dmy &lt;- dummyVars(&quot; ~ .&quot;, data = df_foco_queimadas_n, fullRank = T)
#dat_transformed &lt;- data.frame(predict(dmy, newdata = df_foco_queimadas_n))
#glimpse(dat_transformed)</code></pre>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 9. Mostrar a índice pluviométrico por meses do ano, com base nos dados do dataframe que temos. </b>
</div>
<p>Como apontamos um pouco antes, cada linha do dataframe contém as medições dos satélites, e se houve uma queimada de larga escala, podemos ter vários lançamentos de dados para uma única grande queimada. Se somarmos todos os valores da coluna <code>precipitacao</code>, podemos acabar criando uma grande distorção se o valor da precipitação for grande em várias linhas “repetidas”.</p>
<p>Podemos minimizar isso fazendo o seguinte: tiramos a média diária de precipitação por cidade, e depois sim agrupamos os valores mensalmente, somando as precipitações.</p>
<p><br /></p>
<pre class="r"><code># Agrupar os dados por dia e por cidade, fazendo a média
df_foco_queimadas19 %&gt;% group_by(data, municipio, nome_mes, mes) %&gt;% summarise(m_precipitacao = mean(precipitacao)) -&gt; df_precipitacao_media_dia_cidade

# Agrupar os dados por mes, somando as médias
df_precipitacao_media_dia_cidade %&gt;% group_by(nome_mes, mes) %&gt;% summarise(total = sum(m_precipitacao)) %&gt;% arrange(mes) -&gt; df_precipitacao_media_mes</code></pre>
<pre class="r"><code># Mudar cores do gráfico
cols &lt;- viridis(5, option = &#39;E&#39;)
thm &lt;- hc_theme(colors = cols, chart = list(backgroundColor = NULL))

highchart() %&gt;% 
  hc_add_series(df_precipitacao_media_mes, &quot;column&quot;, hcaes(x = nome_mes, y = total), name = &quot;Mês&quot;) %&gt;%
  hc_xAxis(categories = df_foco_por_mes$nome_mes) %&gt;%
  hc_title(text = &#39;Precipitação em ml por meses do ano no estado de SP (2019)&#39;) %&gt;%
  hc_subtitle(text = &quot;Fonte: INPE (Queimadas)&quot;) %&gt;%
  hc_add_theme(thm) %&gt;%
  hc_size(NULL, 450)</code></pre>
<div id="htmlwidget-320a646f4fb220b67a4d" style="width:100%;height:450px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-320a646f4fb220b67a4d">{"x":{"hc_opts":{"title":{"text":"Precipitação em ml por meses do ano no estado de SP (2019)"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"group":"group","data":[{"nome_mes":"janeiro","mes":1,"total":1642.95243727384,"y":1642.95243727384,"name":"janeiro"},{"nome_mes":"fevereiro","mes":2,"total":535.270301448551,"y":535.270301448551,"name":"fevereiro"},{"nome_mes":"março","mes":3,"total":726.963444444444,"y":726.963444444444,"name":"março"},{"nome_mes":"abril","mes":4,"total":163.224825814536,"y":163.224825814536,"name":"abril"},{"nome_mes":"maio","mes":5,"total":261.996383076115,"y":261.996383076115,"name":"maio"},{"nome_mes":"junho","mes":6,"total":155.056127066793,"y":155.056127066793,"name":"junho"},{"nome_mes":"julho","mes":7,"total":702.855701800361,"y":702.855701800361,"name":"julho"},{"nome_mes":"agosto","mes":8,"total":190.308844914575,"y":190.308844914575,"name":"agosto"},{"nome_mes":"setembro","mes":9,"total":639.515507386424,"y":639.515507386424,"name":"setembro"},{"nome_mes":"outubro","mes":10,"total":1387.66403439955,"y":1387.66403439955,"name":"outubro"},{"nome_mes":"novembro","mes":11,"total":882.20522022422,"y":882.20522022422,"name":"novembro"},{"nome_mes":"dezembro","mes":12,"total":441.218353174603,"y":441.218353174603,"name":"dezembro"}],"type":"column","name":"Mês"}],"xAxis":{"categories":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},"subtitle":{"text":"Fonte: INPE (Queimadas)"}},"theme":{"colors":["#00204DFF","#414D6BFF","#7C7B78FF","#BCAF6FFF","#FFEA46FF"],"chart":{"backgroundColor":null}},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p><br /></p>
<p>O gráfico acima não tem os dados exatos do índice pluviométrico, mas nos ajudam a entender o comportamento das chuvas no momento das medições dos satélites. Como temos mais de 56 mil medições, temos uma noção boa desse comportamento. O ano começa com bastante chuvas em janeiro, que foi o mês com mais chuvas por sinal, depois há uma queda para um terço em feveiro, subindo novamente em março, e mantendo-se baixa até julho; cai novamente em agosto para voltar a subir nos dois meses seguintes; para ter uma queda no bimestre final do ano.</p>
<div style="color:#006400; font-size:16px; margin: 24px 0px;">
<b> 10. Analisar o Risco fogo nível <code>crítico</code> por meses do ano. </b>
</div>
<pre class="r"><code>#unique(df_foco_queimadas19$riscofogo_nivel)
df_foco_queimadas19[df_foco_queimadas19$riscofogo_nivel == &#39;Crítico&#39;, ] %&gt;% 
  group_by(nome_mes, mes) %&gt;% 
  tally(name=&quot;total&quot;) %&gt;% 
  arrange(mes) -&gt; df_foco_ncritico

highchart() %&gt;% 
  hc_add_series(df_foco_ncritico, &quot;column&quot;, hcaes(x = nome_mes, y = total), name = &quot;Mês&quot;) %&gt;%
  hc_xAxis(categories = df_foco_por_mes$nome_mes) %&gt;%
  hc_title(text = &#39;Total de focos com níveis críticos por meses do ano no estado de SP (2019)&#39;) %&gt;%
  hc_subtitle(text = &quot;Fonte: INPE (Queimadas)&quot;) %&gt;%
  hc_add_theme(hc_theme_flat()) %&gt;%
  hc_size(NULL, 450)</code></pre>
<div id="htmlwidget-a77f00d9389671643a32" style="width:100%;height:450px;" class="highchart html-widget"></div>
<script type="application/json" data-for="htmlwidget-a77f00d9389671643a32">{"x":{"hc_opts":{"title":{"text":"Total de focos com níveis críticos por meses do ano no estado de SP (2019)"},"yAxis":{"title":{"text":null}},"credits":{"enabled":false},"exporting":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0},"treemap":{"layoutAlgorithm":"squarified"}},"series":[{"group":"group","data":[{"nome_mes":"janeiro","mes":1,"total":504,"y":504,"name":"janeiro"},{"nome_mes":"fevereiro","mes":2,"total":387,"y":387,"name":"fevereiro"},{"nome_mes":"março","mes":3,"total":509,"y":509,"name":"março"},{"nome_mes":"abril","mes":4,"total":639,"y":639,"name":"abril"},{"nome_mes":"maio","mes":5,"total":806,"y":806,"name":"maio"},{"nome_mes":"junho","mes":6,"total":2263,"y":2263,"name":"junho"},{"nome_mes":"julho","mes":7,"total":2259,"y":2259,"name":"julho"},{"nome_mes":"agosto","mes":8,"total":3347,"y":3347,"name":"agosto"},{"nome_mes":"setembro","mes":9,"total":9446,"y":9446,"name":"setembro"},{"nome_mes":"outubro","mes":10,"total":5262,"y":5262,"name":"outubro"},{"nome_mes":"novembro","mes":11,"total":926,"y":926,"name":"novembro"},{"nome_mes":"dezembro","mes":12,"total":44,"y":44,"name":"dezembro"}],"type":"column","name":"Mês"}],"xAxis":{"categories":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},"subtitle":{"text":"Fonte: INPE (Queimadas)"}},"theme":{"colors":["#f1c40f","#2ecc71","#9b59b6","#e74c3c","#34495e","#3498db","#1abc9c","#f39c12","#d35400"],"chart":{"backgroundColor":"#ECF0F1"},"xAxis":{"gridLineDashStyle":"Dash","gridLineWidth":1,"gridLineColor":"#BDC3C7","lineColor":"#BDC3C7","minorGridLineColor":"#BDC3C7","tickColor":"#BDC3C7","tickWidth":1},"yAxis":{"gridLineDashStyle":"Dash","gridLineColor":"#BDC3C7","lineColor":"#BDC3C7","minorGridLineColor":"#BDC3C7","tickColor":"#BDC3C7","tickWidth":1},"legendBackgroundColor":"rgba(0, 0, 0, 0.5)","background2":"#505053","dataLabelsColor":"#B0B0B3","textColor":"#34495e","contrastTextColor":"#F0F0F3","maskColor":"rgba(255,255,255,0.3)"},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","drillUpText":"Back to {series.name}","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"thousandsSep":" ","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
<p><br /></p>
<p>Não sou nenhum especialista na área de climatologia, mas percebemos pelo gráfico, que o período onde os focos de níveis <strong>críticos</strong> são maiores (agosto, setembro, outubro) _ que coincidem com os períodos com mais focos de queimadas _ são períodos que sucedem os meses com menores níveis de chuvas (abril, maio, junho, julho, agosto).</p>
<p><br /></p>
<hr />
<div id="algumas-dúvidas-retiradas-do-site" class="section level3">
<h3>Algumas dúvidas (retiradas do site)</h3>
<div id="que-tamanho-de-queimada-os-satélites-detectam" class="section level4">
<h4>Que tamanho de queimada os satélites detectam?</h4>
<p>Para os satélites de órbita polar (NOAAs a 800 km acima da superfície, e TERRA e AQUA a 710 km), trabalhos de validação de campo indicam que uma frente de fogo com cerca de <strong>30m de extensão por 1m de largura</strong>, ou maior, será detectada.</p>
<p>Um foco de calor tão pequeno quanto uma frente de queimada de 30 metros de extensão por 1 m de largura pode ser registrado pelos instrumentos de observação instalados nos satélites. Atualmente, são usadas três gerações de sensores para essa finalidade: o AVHRR, mais antigo; o Modis, de tecnologia intermediária; e o VIIRS, mais moderno. Um instrumento desse último tipo – presente nos satélites Suomi NPP e NOAA-20, da National Oceanic and Atmospheric Administration (NOAA), dos Estados Unidos – detecta 10 vezes mais focos que um Modis a bordo dos satélites Aqua e Terra, ambos da Nasa. Nuvens de chuvas são obstáculos para o bom funcionamento dos sensores, mas não as nuvens de fumaça das queimadas.</p>
</div>
<div id="quais-queimadas-não-são-detectadas-por-que-a-queimada-que-eu-vi-não-foi-detectada" class="section level4">
<h4>Quais queimadas não são detectadas ? (Por que a queimada que eu vi não foi detectada ?)</h4>
<p>As seguintes condições impedem ou prejudicam muito a detecção das queimadas:</p>
<p>Frentes de fogo com menos de 30 m; Fogo apenas no chão de uma floresta densa, sem afetar a copa das árvores; Nuvens cobrindo a região (atenção - nuvens de fumaça não atrapalham!); Queimada de pequena duração, ocorrendo entre o horário das imagens disponíveis; Fogo em uma encosta de montanha, enquanto que o satélite só observou o outro lado; Imprecisão na localização do foco de queima, que no melhor caso é de cerca de 375 m, mas chegando a 6 km.</p>
</div>
<div id="desde-quando-o-inpe-faz-este-trabalho-de-detecção-de-queimadas" class="section level4">
<h4>Desde quando o INPE faz este trabalho de detecção de queimadas?</h4>
<p>Este sistema teve início em meados de 1985 durante um experimento de campo conjunto entre pesquisadores do INPE e da NASA, e vem evoluindo continuamente desde 1987 quando passou a operar rotineiramente. Ele foi particularmente aperfeiçoado a partir de 1998 mediante apoio do programa nacional Proarco no Ibama, criado para controlar as queimadas e o desmatamento no arco do desmatamento da Amazônia, com recursos do Ministério do Meio Ambiente.</p>
<hr />
</div>
</div>
<div id="bioma" class="section level3">
<h3>Bioma</h3>
<p>O bioma pode ser definido, segundo o IBGE, como “um conjunto de vida vegetal e animal, constituído pelo agrupamento de tipos de vegetação contíguos e que podem ser identificados a nível regional, com condições de geologia e clima semelhantes e que, historicamente, sofreram os mesmos processos de formação da paisagem, resultando em uma diversidade de flora e fauna própria.” Esse termo provém do grego Bio = vida e Oma = grupo ou massa e foi utilizado pela primeira vez, segundo alguns autores, por Shelford. Para outros, o termo foi criado por Clements.</p>
</div>
<div id="risco-fogo" class="section level3">
<h3>Risco Fogo</h3>
<p>O cálculo do <code>risco fogo</code> é um tanto complexo, e leva em consideração fatores como dias sem chuva, tipo da vegetação, elevação topográfica, umidade relativa do ar, temperatura máxima e presença de fogo na região. Sua escala vai de 0 até 1, e se divide nas seguintes categorias: Mínimo, abaixo de 0,15; Baixo, de 0,15 a 0,4; Médio, de 0,4 a 0,7; Alto, de 0,7 a 0,95 e; Crítico, acima de 0.95.</p>
<p>O número 777,7 representa <em>valor inválido</em>, normalmente relacionado como <strong>área urbana ou corpos d’água</strong>, onde não faz sentido calcular o Risco de Fogo.</p>
</div>
<div id="frp" class="section level3">
<h3>FRP</h3>
<p>A Energia Radiativa do Fogo (FRP) é uma técnica para quantificar a biomassa queimada usando dados de sensoriamento remoto. A FRP mede a energia radiante emitida por unidade de tempo pela vegetação queimada.</p>
<p>Da revista FAPESP (link no fim da página):</p>
<p>Além de monitorar a localização dos focos de calor, os satélites registram a <strong>intensidade da queimada</strong>. Medida como FRP (sigla em inglês para potência radiativa do fogo) (…) “A potência radiativa do fogo é uma medida instantânea da energia emitida”, (…) “O fogo de desmatamento costuma ter emissões mais energéticas porque é proveniente de madeira acumulada com grande concentração de biomassa. É diferente do que ocorre com o fogo em capim, que tem uma carga combustível menor.”</p>
</div>
<div id="megawatt" class="section level3">
<h3>Megawatt</h3>
<p>Um megawatt é de 1 milhão de watts (W) de potência. Os geradores de eletricidade são frequentemente medidos em megawatts de capacidade de geração de energia de pico. Então, um megawatt (MW) é equivalente a 1.000 quilowatts ou 1.000.000 watts. Para colocar isso em perspectiva, uma lâmpada doméstica costuma ter 100 watts, portanto, um megawatt equivale a muitas lâmpadas.</p>
<hr />
</div>
</div>
<div id="referências-e-fontes-de-dados" class="section level2">
<h2>Referências e fontes de dados</h2>
<ul>
<li><a href="http://queimadas.dgi.inpe.br/queimadas/portal/informacoes/perguntas-frequentes" target="_blank">Programa Queimadas, do Instituto Nacional de Pesquisas Espaciais (Inpe)</a></li>
<li><a href="https://revistapesquisa.fapesp.br/como-monitorar-o-fogo/" target="_blank">Pesquisa FAPESP - Como monitorar o fogo</a></li>
<li><a href="https://www.scielo.br/scielo.php?pid=S0102-77862017000200255&script=sci_abstract&tlng=pt" target="_blank">Scielo - Revista Brasileira de Meteorologia</a></li>
<li><a href="http://queimadas.cptec.inpe.br/~rqueimadas/documentos/RiscoFogo_Sucinto.pdf" target="_blank">INPE - MÉTODO DO CÁLCULO DO RISCO DE FOGO DO PROGRAMA DO INPE - VERSÃO 11, JUNHO/2019</a></li>
<li><a href="https://brasilescola.uol.com.br/o-que-e/biologia/o-que-e-bioma.htm" target="_blank">Brasil Escola - O que é bioma?</a></li>
<li><a href="https://brasilescola.uol.com.br/brasil/biomas-brasileiros.htm" target="_blank">Brasil Escola - Biomas brasileiros</a></li>
<li><a href="https://www.portalsaofrancisco.com.br/fisica/megawatt" target="_blank">Portal São Francisco - Megawatt</a></li>
<li><a href="https://pt.wikipedia.org/wiki/S%C3%A3o_Paulo_(estado)" target="_blank">Wikipedia - São Paulo (estado)</a></li>
</ul>
<p><br /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
