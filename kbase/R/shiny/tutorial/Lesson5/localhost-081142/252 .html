<pre>slowQuery

DATE: 24/October/2019 08:25:16 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 6.4131681919098 seconds
    [query] => SELECT p.iddep, p.name, p.access_token_expires, p.org_name, p.org_type,
                       p.date_last_cursor, p.invalid_reason, p.all_locations,
                       p.sync_status, p.date_created, p.idaccount, 
                        (SELECT GROUP_CONCAT(u.idunit) FROM dep_unit_account u WHERE p.iddep = u.iddep) as idunits,
                        (SELECT GROUP_CONCAT(u.iduser) FROM dep_unit_account u WHERE p.iddep = u.iddep) as idusers, 
                        (SELECT GROUP_CONCAT(u.idusergroups) FROM dep_unit_account u WHERE p.iddep = u.iddep) as idusergroups
                FROM dep_accounts p LEFT JOIN dep_unit_account u ON p.iddep = u.iddep WHERE p.is_deleted = 0 AND ((p.all_locations = 0  OR u.iduser IN (1473) OR u.idusergroups IS NOT NULL)) GROUP BY p.iddep
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'business',
  'MDM_DOMAIN' => 'officebiz-01',
  'operation' => 'get_dep_accounts',
  'usergroups' => 'ALL',
  'admins' => '1473',
  'iduserrequest' => '1473',
  'lang' => 'en',
  'loggedin_user_idusergroups_admin' => 'ALL',
  'current_os' => 'ios',
)
GLOBALS_DATABASE: officebiz_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) Dep::controller -> File: /Sites/web/mdm/classes/Controller.php (line 815)
4) Dep::getAccounts -> File: /Sites/web/mdm/classes/Dep.php (line 76)
5) DB::stmtExec -> File: /Sites/web/mdm/classes/Dep.php (line 412)
6) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
7) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
8) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>slowQuery

DATE: 24/October/2019 08:52:59 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 2.9864778518677 seconds
    [query] => SELECT p.idprofile as idprofile, p.options 
                FROM generic_profiles p 
                WHERE p.is_deleted = 0 AND p.is_hidden = 0 AND p.is_enabled = 1 AND p.type = "DEVICEAUTH"
                    AND p.idprofile IN (SELECT rel.idprofile FROM generic_device_profile rel WHERE rel.to_remove = 0 AND rel.iduser IS NULL AND rel.deviceudid = :deviceudid)
                GROUP BY p.idprofile ORDER BY p.idprofile
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'business',
  'MDM_DOMAIN' => 'officebiz-01',
  'operation' => 'get_device_compliance',
  'type' => 'PROFILES',
  'deviceudid' => '74d61503e25858dba69bf56a89eb5d59f7d01b23',
  'only_out_compliance' => '0',
  'iduserrequest' => '1473',
  'lang' => 'en',
  'loggedin_user_idusergroups_admin' => 'ALL',
  'current_os' => 'ios',
)
GLOBALS_DATABASE: officebiz_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) ComplianceReport::controller -> File: /Sites/web/mdm/classes/Controller.php (line 581)
4) Device::__construct -> File: /Sites/web/mdm/classes/ComplianceReport.php (line 38)
5) Device::getDevice -> File: /Sites/web/mdm/classes/Device.php (line 216)
6) DeviceAuthentication::setDeviceInfo -> File: /Sites/web/mdm/classes/Device.php (line 792)
7) DeviceAuthentication::getProfilesByDeviceudid -> File: /Sites/web/mdm/classes/profiles/DeviceAuthentication.php (line 139)
8) DB::stmtExec -> File: /Sites/web/mdm/classes/profiles/DeviceAuthentication.php (line 181)
9) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
10) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
11) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>slowQuery

DATE: 24/October/2019 15:59:10 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 4.1456909179688 seconds
    [query] => SELECT p.idprofile as idprofile, p.options 
                FROM generic_profiles p 
                WHERE p.is_deleted = 0 AND p.is_hidden = 0 AND p.is_enabled = 1 AND p.type = "DEVICEAUTH"
                    AND p.idprofile IN (SELECT rel.idprofile FROM generic_device_profile rel WHERE rel.to_remove = 0 AND rel.iduser IS NULL AND rel.deviceudid = :deviceudid)
                GROUP BY p.idprofile ORDER BY p.idprofile
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'business',
  'MDM_DOMAIN' => 'officebiz-01',
  'operation' => 'get_device_compliance',
  'type' => 'PROFILES',
  'deviceudid' => '4194638b879cfc922f2593027677873e18de7b48',
  'only_out_compliance' => '0',
  'iduserrequest' => '1473',
  'lang' => 'en',
  'loggedin_user_idusergroups_admin' => 'ALL',
  'current_os' => 'ios',
)
GLOBALS_DATABASE: officebiz_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) ComplianceReport::controller -> File: /Sites/web/mdm/classes/Controller.php (line 581)
4) Device::__construct -> File: /Sites/web/mdm/classes/ComplianceReport.php (line 38)
5) Device::getDevice -> File: /Sites/web/mdm/classes/Device.php (line 216)
6) DeviceAuthentication::setDeviceInfo -> File: /Sites/web/mdm/classes/Device.php (line 792)
7) DeviceAuthentication::getProfilesByDeviceudid -> File: /Sites/web/mdm/classes/profiles/DeviceAuthentication.php (line 139)
8) DB::stmtExec -> File: /Sites/web/mdm/classes/profiles/DeviceAuthentication.php (line 181)
9) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
10) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
11) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br>
