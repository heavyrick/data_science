<pre>slowQuery

DATE: 21/October/2019 12:32:27 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 6.2487890720367 seconds
    [query] => SELECT SQL_CALC_FOUND_ROWS mah.iduser, mah.deviceudid, mah.trackid, mah.idvpp, mah.type, mah.date_created, mah.date_solved, mah.os, mah.details
                    , count(*) as count
                FROM mdmcache_alerts_history mah
                LEFT JOIN vpp_assets va ON va.itunesid = mah.trackid AND va.idvpp = mah.idvpp 
                WHERE mah.os IN ("ios","0") AND mah.date_solved IS NULL AND (mah.deviceudid IN ("02ebe9738c7a9c6a95f6dc44409fc4d2d7e5c9c3","53359d8f6878a68eed6b0ca6f3504d49ce8ed676","74d61503e25858dba69bf56a89eb5d59f7d01b23","7671fdbdd8487154df124b59dbfb5b206ff32e49","bc38a47fcc3140696c16b5eea6057a9f8d796c03","UE-967ECE5C-8C2F-42A7-8101-4F1B13687B97","564DA1DD-D6CD-20C1-E2E4-DD80A64CA62A","564DA967-DCCF-6A0E-D463-C2E33AD200B8","564DB0F9-DC88-841F-B3EA-C3A4D40333A2","564DCBE6-ECC0-AB25-DD8F-FEE69F45A2D5","993930C6-C53C-5E10-8F3C-738DAFF9D934","C4578F1E-1641-5FA8-8B58-31CB86E326E2","3d829e24a905fb318d64dc516b7961e539f2153c","4eec73f1ba7084845a7bb452e006ceb68ffb3942","64698303f5d0242dd04fa1a370f8b5b03fa5b350","c6e4e538999ffdd359931f9e0da630f2f481e152","d5e0f0dc0ae8404d1d090010594df4ee93a3a5a7","f4cead01a092aac8e17773f124d05401b78dba24","7507934ecb05ba5671a6b8513cf8fccb4b026963","FE0D2D39-D601-50EA-B454-A2DBA73325F9","291090AE-510E-5CE8-9DD3-42C947624500","AA8E6A06-E5E4-5F85-B174-8CAA05C75950","566B24A5-7ABE-5415-8579-85ABEB8852D7","c2ae1c15831d4abd26b239b83b136349f231489d","26827D98-095E-571E-8F86-57343694F484","7b373a787c8f6d3e917bb08cd0a3e9061f709db8","56
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey_manager',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'school',
  'MDM_DOMAIN' => 'officesch-01',
  'operational_systems' => 'ios',
  'is_solved' => '0',
  'group_by_type' => '1',
  'minimal_info' => '1',
  'operation' => 'get_manager_alerts',
  'iduserrequest' => '385',
  'lang' => 'en',
  'current_os' => 'ios',
  'limbo_belongs_all_locations' => '1',
  'selection_mode' => 'SELECT_SPECIFIC',
)
GLOBALS_DATABASE: officesch_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) SchoolController::controller -> File: /Sites/web/mdm/classes/Controller.php (line 555)
4) SchoolAlerts::getMDMAlerts -> File: /Sites/web/mdm/classes/SchoolController.php (line 452)
5) DB::stmtExec -> File: /Sites/web/mdm/classes/SchoolAlerts.php (line 476)
6) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
7) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
8) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>slowQuery

DATE: 21/October/2019 16:41:43 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 3.6158740520477 seconds
    [query] => SELECT p.idprofile as idprofile, 
                           p.name, 
                           p.is_enabled, 
                           "applock_profiles" as profile_table, 
                           "APP_LOCK" as profile_type, 
                           "App Lock" as type_name, 
                           p.is_districtlevel, 
                           p.idaccount, 
                           p.dontApplytoShared, 
                           p.scope, 
                           1 as classmanager,
                           :deviceudid as deviceudid, 
                           NULL as idusermosyle
                           FROM applock_profiles p
                           WHERE 
                           p.is_deleted = 0
                           AND p.os = :os 
                           
                           
                           AND p.idprofile IN (SELECT rel.idprofile FROM applock_device_profile rel WHERE rel.to_remove = 0 AND rel.deviceudid = :deviceudid)
                           UNION
                         SELECT p.idprofile as idprofile, 
                                p.name, 
                                p.is_enabled, 
                                "applock_profiles" as profile_table, 
                                "APP_LOCK" as profile_type, 
                                "App Lock" as type_name, 
                                p.is_districtlevel, 
                                p.idaccount, 
                                p.do
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey_manager',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'school',
  'MDM_DOMAIN' => 'officesch-01',
  'operation' => 'get_device_compliance',
  'type' => 'ALL',
  'deviceudid' => '564DB0F9-DC88-841F-B3EA-C3A4D40333A2',
  'only_out_compliance' => '1',
  'iduserrequest' => '385',
  'lang' => 'en',
  'current_os' => 'mac',
  'limbo_belongs_all_locations' => '1',
  'selection_mode' => 'SELECT_SPECIFIC',
)
GLOBALS_DATABASE: officesch_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) ComplianceReport::controller -> File: /Sites/web/mdm/classes/Controller.php (line 581)
4) ComplianceReport::deviceCompliance -> File: /Sites/web/mdm/classes/ComplianceReport.php (line 43)
5) ComplianceReport::getAssignedProfiles -> File: /Sites/web/mdm/classes/ComplianceReport.php (line 417)
6) ComplianceReport::getAssignedProfilesNew -> File: /Sites/web/mdm/classes/ComplianceReport.php (line 1549)
7) DB::stmtExec -> File: /Sites/web/mdm/classes/ComplianceReport.php (line 1739)
8) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
9) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
10) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br>
