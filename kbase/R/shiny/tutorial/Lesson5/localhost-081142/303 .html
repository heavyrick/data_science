<pre>slowQuery

DATE: 16/October/2019 10:24:28 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 3.8647720813751 seconds
    [query] => SELECT p.idprofile as idprofile, p.options 
                FROM generic_profiles p 
                WHERE p.is_deleted = 0 AND p.is_hidden = 0 AND p.is_enabled = 1 AND p.type = "DEVICEAUTH"
                    AND p.idprofile IN (SELECT rel.idprofile FROM generic_device_profile rel WHERE rel.to_remove = 0 AND rel.iduser IS NULL AND rel.deviceudid = :deviceudid)
                GROUP BY p.idprofile ORDER BY p.idprofile
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey_manager',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'school',
  'MDM_DOMAIN' => 'officesch-01',
  'operation' => 'get_device_compliance',
  'type' => 'ALL',
  'deviceudid' => '7671fdbdd8487154df124b59dbfb5b206ff32e49',
  'only_out_compliance' => '1',
  'iduserrequest' => '385',
  'lang' => 'en',
  'current_os' => 'ios',
  'limbo_belongs_all_locations' => '1',
  'selection_mode' => 'SELECT_SPECIFIC',
)
GLOBALS_DATABASE: officesch_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) ComplianceReport::controller -> File: /Sites/web/mdm/classes/Controller.php (line 581)
4) Device::__construct -> File: /Sites/web/mdm/classes/ComplianceReport.php (line 38)
5) Device::getDevice -> File: /Sites/web/mdm/classes/Device.php (line 216)
6) DeviceAuthentication::setDeviceInfo -> File: /Sites/web/mdm/classes/Device.php (line 792)
7) DeviceAuthentication::getProfilesByDeviceudid -> File: /Sites/web/mdm/classes/profiles/DeviceAuthentication.php (line 139)
8) DB::stmtExec -> File: /Sites/web/mdm/classes/profiles/DeviceAuthentication.php (line 181)
9) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
10) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
11) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>slowQuery

DATE: 16/October/2019 14:58:47 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 4.8254630565643 seconds
    [query] => SELECT DISTINCT d.deviceudid , d.total_disk, d.*, IF(d.device_name IS NULL, "Device without name", d.device_name) as device_name, AES_DECRYPT(d.last_ip_beat_encrypt, "M05yL3C0rp0r4t10N") as last_ip_beat, NULL as last_ip_beat_encrypt, AES_DECRYPT(d.last_lan_ip_encrypt, "M05yL3C0rp0r4t10N") as last_lan_ip, NULL as last_lan_ip_encrypt, (d.available_disk/d.total_disk) as percent_disk, dd.iddep 
                FROM device_info d LEFT JOIN dep_devices dd ON d.serial_number = dd.serial_number AND d.os IN ("ios", "mac", "tvos") AND dd.op_type != "deleted"
                WHERE d.deviceudid IN ("02ebe9738c7a9c6a95f6dc44409fc4d2d7e5c9c3","53359d8f6878a68eed6b0ca6f3504d49ce8ed676","7671fdbdd8487154df124b59dbfb5b206ff32e49","7b373a787c8f6d3e917bb08cd0a3e9061f709db8","8b57c03a2fb75d31f58fbd9c9c09039dd1c332b2","c2ae1c15831d4abd26b239b83b136349f231489d","UE-967ECE5C-8C2F-42A7-8101-4F1B13687B97")
)

REMOTE_ADDR: 
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: array (
  0 => '/Sites/web/mdm-manager/classes/../background/commands/ExportCommands.php',
  1 => 'officesch_01',
  2 => '5da75a51c506b.json',
)
GET: 
POST: 
GLOBALS_DATABASE: officesch_01
SCHOOL: 
COMPANY: 

1) BulkQueries::getDevicesInfo -> File: /Sites/web/mdm/background/commands/ExportCommands.php (line 71)
2) Device::getDevicesByDatabase -> File: /Sites/web/mdm/classes/BulkQueries.php (line 553)
3) DB::stmtExec -> File: /Sites/web/mdm/classes/Device.php (line 2895)
4) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
5) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
6) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br>
