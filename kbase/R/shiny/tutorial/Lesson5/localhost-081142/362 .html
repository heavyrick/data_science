<pre>SELECT SQL_CALC_FOUND_ROWS
                       
                       m.pk_materia, m.nome, m.nome_sala, m.mdm_platform, m.pk_unidade, m.data_criacao, m.teachers_alias, 
                       m.data_modificacao, m.pk_usuario, m.pk_materia_tag,
                       m.is_appleid_required, m.excluido, m.unique_identifier, m.idaccount, m.registered_from,
                       u.nome as unit_name, IFNULL(mt.nome, "Classes without course") as course_name, 
                       us.nome as teacher_name, us.photo_url, 
                       u.allow_screenobservation, u.allow_teacherforceclassroom, 
                       (SELECT GROUP_CONCAT(rum.pk_usuario) FROM rel_usuario_materia rum INNER JOIN usuarios u ON rum.rel_deleted = 0 AND u.pk_usuario = rum.pk_usuario AND u.excluido = "N" WHERE rum.pk_materia = m.pk_materia) as idstudents,
                       (SELECT GROUP_CONCAT(c.pk_usuario) FROM coordenadores c INNER JOIN usuarios u ON u.pk_usuario = c.pk_usuario AND u.excluido = "N" WHERE c.pk_materia = m.pk_materia  AND (c.date_expiration IS NULL OR c.date_expiration > UNIX_TIMESTAMP())) as idcoordinators
                       

                FROM materias m
                INNER JOIN unidades u ON u.pk_unidade = m.pk_unidade
                LEFT JOIN materias_tags mt ON mt.pk_materia_tag = m.pk_materia_tag
                INNER JOIN usuarios us ON us.pk_usuario = m.pk_usuario
                WHERE m.pk_materia IN (171,0) AND m.excluido = "N"
                GROUP BY m.pk_materia
                
                ORDER BY mt.nome, m.nome
                
                

DATE: 04/October/2019 10:53:16 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 9.1711888313293 seconds
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: http://localhost/web/manager/public/
HTTP_USER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36
ARGS: 
GET: 
POST: array (
  'usertab_current_os' => 'mac',
  'usertab_current_idschool' => 'officeschool',
  'idclassperiod' => '171',
)
GLOBALS_DATABASE: 
SCHOOL: 
COMPANY: 

1) ClassPeriod::__construct -> File: /Sites/web/manager/public/screens/scules/classmanager/class_settings_teachers.php (line 14)
2) ClassPeriod::getClassPeriods -> File: /Sites/web/manager/classes/ClassPeriod.php (line 30)
3) DB::stmtExec -> File: /Sites/web/manager/classes/ClassPeriod.php (line 411)
4) log::dolog -> File: /Sites/web/manager/classes/DB.php (line 283)
5) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/manager/classes/log.php (line 22)
6) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>SELECT SQL_CALC_FOUND_ROWS
                       
                       m.pk_materia, m.nome, m.nome_sala, m.mdm_platform, m.pk_unidade, m.data_criacao, m.teachers_alias, 
                       m.data_modificacao, m.pk_usuario, m.pk_materia_tag,
                       m.is_appleid_required, m.excluido, m.unique_identifier, m.idaccount, m.registered_from,
                       u.nome as unit_name, IFNULL(mt.nome, "Classes without course") as course_name, 
                       us.nome as teacher_name, us.photo_url, 
                       u.allow_screenobservation, u.allow_teacherforceclassroom, 
                       (SELECT GROUP_CONCAT(rum.pk_usuario) FROM rel_usuario_materia rum INNER JOIN usuarios u ON rum.rel_deleted = 0 AND u.pk_usuario = rum.pk_usuario AND u.excluido = "N" WHERE rum.pk_materia = m.pk_materia) as idstudents,
                       (SELECT GROUP_CONCAT(c.pk_usuario) FROM coordenadores c INNER JOIN usuarios u ON u.pk_usuario = c.pk_usuario AND u.excluido = "N" WHERE c.pk_materia = m.pk_materia  AND (c.date_expiration IS NULL OR c.date_expiration > UNIX_TIMESTAMP())) as idcoordinators
                       

                FROM materias m
                INNER JOIN unidades u ON u.pk_unidade = m.pk_unidade
                LEFT JOIN materias_tags mt ON mt.pk_materia_tag = m.pk_materia_tag
                INNER JOIN usuarios us ON us.pk_usuario = m.pk_usuario
                WHERE m.excluido = "N"
                GROUP BY m.pk_materia
                
                ORDER BY mt.nome, m.nome
                LIMIT 250
                OFFSET 0

DATE: 04/October/2019 11:15:10 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 4.0474820137024 seconds
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: http://localhost/web/manager/public/
HTTP_USER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36
ARGS: 
GET: 
POST: array (
  'usertab_current_os' => 'mac',
  'usertab_current_idschool' => 'officeschool',
  'page_index' => '0',
  'filterby_name' => '',
  'onoffswitch' => 'on',
)
GLOBALS_DATABASE: 
SCHOOL: 
COMPANY: 

1) ClassPeriod::getClassPeriodsGroupByCourses -> File: /Sites/web/manager/public/screens/scules/classmanager/periods_list_items.php (line 43)
2) ClassPeriod::getClassPeriods -> File: /Sites/web/manager/classes/ClassPeriod.php (line 488)
3) DB::stmtExec -> File: /Sites/web/manager/classes/ClassPeriod.php (line 411)
4) log::dolog -> File: /Sites/web/manager/classes/DB.php (line 283)
5) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/manager/classes/log.php (line 22)
6) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>slowQuery

DATE: 04/October/2019 11:20:48 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 2.9997460842133 seconds
    [query] => SELECT DISTINCT d.deviceudid , d.total_disk, d.is_supervised, d.device_model, d.osversion, d.battery, d.date_last_beat, IF(d.device_name IS NULL, "Device without name", device_name) as device_name, d.tags, d.available_disk, d.ios_maximum_resident_users, d.asset_tag, d.date_info, d.model_name, d.android_admin_enabled, d.android_usage_access_enabled, d.isBluetoothOn, d.iTunesStoreAccountIsActive, d.lostmode_status, d.has_passcode, (d.available_disk/d.total_disk) as percent_disk, dd.iddep 
                FROM device_info d LEFT JOIN dep_devices dd ON d.serial_number = dd.serial_number AND d.os IN ("ios", "mac", "tvos") AND dd.op_type != "deleted"
                WHERE d.deviceudid IN ("993930C6-C53C-5E10-8F3C-738DAFF9D934","AA8E6A06-E5E4-5F85-B174-8CAA05C75950","564DB0F9-DC88-841F-B3EA-C3A4D40333A2","BDE0FBD0-0E3F-5BFB-82F6-A88953CD65DE","564DE848-5289-F5CE-9BE1-3A5303AEAB15","566B24A5-7ABE-5415-8579-85ABEB8852D7","291090AE-510E-5CE8-9DD3-42C947624500","C4578F1E-1641-5FA8-8B58-31CB86E326E2","955A2CFC-7FC1-5E69-B3B4-45DB771B875F","26827D98-095E-571E-8F86-57343694F484","C7254206-8F2F-5534-9FD1-CCEAEBAA2CDE","564D3D78-22C6-681D-90ED-7F8289643E5B","564DCBE6-ECC0-AB25-DD8F-FEE69F45A2D5","564DA967-DCCF-6A0E-D463-C2E33AD200B8")
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey_manager',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'school',
  'MDM_DOMAIN' => 'officesch-01',
  'operation' => 'school_devices',
  'term_by' => '1',
  'attributes' => 'is_supervised,device_model,osversion,battery,date_last_beat,device_name,tags,available_disk,ios_maximum_resident_users,asset_tag,date_info,model_name,android_admin_enabled,android_usage_access_enabled,isBluetoothOn,iTunesStoreAccountIsActive,lostmode_status,has_passcode',
  'page' => '1',
  'current_os' => 'mac',
  'filter_devices' => '1',
  'filter_enrollment_model' => 'DEVICE_ENROLLMENT',
  'iduserrequest' => '385',
  'lang' => 'en',
  'limbo_belongs_all_locations' => '1',
  'selection_mode' => 'SELECT_SPECIFIC',
)
GLOBALS_DATABASE: officesch_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) SchoolController::controller -> File: /Sites/web/mdm/classes/Controller.php (line 555)
4) School::getDevices -> File: /Sites/web/mdm/classes/SchoolController.php (line 23)
5) School::separateInDatabases -> File: /Sites/web/mdm/classes/School.php (line 683)
6) Device::getDevicesByDatabase -> File: /Sites/web/mdm/classes/School.php (line 752)
7) DB::stmtExec -> File: /Sites/web/mdm/classes/Device.php (line 2895)
8) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
9) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
10) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>slowQuery

DATE: 04/October/2019 14:53:18 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 3.8865449428558 seconds
    [query] => SELECT DISTINCT d.deviceudid , d.total_disk, d.*, IF(d.device_name IS NULL, "Device without name", d.device_name) as device_name, AES_DECRYPT(d.last_ip_beat_encrypt, "M05yL3C0rp0r4t10N") as last_ip_beat, NULL as last_ip_beat_encrypt, AES_DECRYPT(d.last_lan_ip_encrypt, "M05yL3C0rp0r4t10N") as last_lan_ip, NULL as last_lan_ip_encrypt, (d.available_disk/d.total_disk) as percent_disk, dd.iddep 
                FROM device_info d LEFT JOIN dep_devices dd ON d.serial_number = dd.serial_number AND d.os IN ("ios", "mac", "tvos") AND dd.op_type != "deleted"
                WHERE d.deviceudid IN ("993930C6-C53C-5E10-8F3C-738DAFF9D934","BDE0FBD0-0E3F-5BFB-82F6-A88953CD65DE")
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: 
HTTP_USER_AGENT: 
ARGS: 
GET: 
POST: array (
  'secretkey' => 'officesecretkey_manager',
  'appkey' => 'aN63UDr4Ug8F6S6ABMK0ifcM78E266iQ',
  'force_mdm_type_server' => 'school',
  'MDM_DOMAIN' => 'officesch-01',
  'operation' => 'school_appcenter',
  'term_by' => '',
  'page' => '1',
  'current_os' => 'mac',
  'orderby' => 'name',
  'orderdirection' => 'asc',
  'iduserrequest' => '385',
  'lang' => 'en',
  'limbo_belongs_all_locations' => '1',
  'selection_mode' => 'SELECT_SPECIFIC',
)
GLOBALS_DATABASE: officesch_01
SCHOOL: 
COMPANY: 

1) Controller::__construct -> File: /Sites/web/mdm/public/services/index.php (line 72)
2) Controller::process -> File: /Sites/web/mdm/classes/Controller.php (line 49)
3) SchoolAppCenter::controller -> File: /Sites/web/mdm/classes/Controller.php (line 573)
4) SchoolAppCenter::main -> File: /Sites/web/mdm/classes/SchoolAppCenter.php (line 25)
5) School::getDevices -> File: /Sites/web/mdm/classes/SchoolAppCenter.php (line 392)
6) School::separateInDatabases -> File: /Sites/web/mdm/classes/School.php (line 683)
7) Device::getDevicesByDatabase -> File: /Sites/web/mdm/classes/School.php (line 752)
8) DB::stmtExec -> File: /Sites/web/mdm/classes/Device.php (line 2895)
9) Log::errorLog -> File: /Sites/web/mdm/classes/DB.php (line 425)
10) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/mdm/classes/Log.php (line 94)
11) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br><pre>SELECT a.idarticle, a.title, a.content, a.content_plaintext, a.idhelpcenter, a.article_parent, 
                       a.date_created, a.date_modified, a.article_order, a.article_tags, a.idschools_restriction, a.count_views, a.is_removed
                FROM articles_sandbox a
                WHERE a.article_parent IN (111,21,36,43,50,192,88,114,128,137,156,0) AND a.is_removed = 0
                ORDER BY a.article_order ASC

DATE: 04/October/2019 16:53:11 (America/Sao_Paulo)
EXTRA_CONTENT: Array
(
    [execution_time] => 4.5601739883423 seconds
)

REMOTE_ADDR: ::1
HTTP_HOST: localhost
HTTP_REFERER: http://localhost/web/manager/public/
HTTP_USER_AGENT: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/77.0.3865.90 Safari/537.36
ARGS: 
GET: 
POST: array (
  'usertab_current_os' => 'mac',
  'usertab_current_idschool' => 'officeschool',
)
GLOBALS_DATABASE: 
SCHOOL: 
COMPANY: 

1) ::require_once -> File: /Sites/web/manager/public/screens/scules/support/faq/main.php (line 107)
2) HelpDeskArticle::getArticles -> File: /Sites/web/manager/public/screens/scules/support/faq/articles.php (line 22)
3) HelpDeskArticle::getArticles -> File: /Sites/web/manager/classes/HelpDeskArticle.php (line 190)
4) DB::stmtExec -> File: /Sites/web/manager/classes/HelpDeskArticle.php (line 149)
5) log::dolog -> File: /Sites/web/manager/classes/DB.php (line 283)
6) MosyleUtils\Log::saveLocalFile -> File: /Sites/web/manager/classes/log.php (line 22)
7) MosyleUtils\Log::backtrace -> File: /Sites/web/utils/libs/classes/Log.php (line 64)
</pre>****************************************<br>
