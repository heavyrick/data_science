GROUP BY p.Espectro
HAVING SUM(v.QT_VOTOS) > 0
ORDER BY Votos DESC
")
View(votos_espectro_dep_estadual_df)
votos_bairro_dep_federal_df = sqldf("
SELECT
l.NM_BAIRRO as Bairro,
SUM(v.QT_VOTOS) as Votos,
ROUND(
CAST(SUM(v.QT_VOTOS) as real) / (
SELECT SUM(v1.QT_VOTOS)
FROM df_partidos p1
LEFT JOIN df_votos_validos v1 ON p1.Legenda = v1.NR_PARTIDO
WHERE v1.CD_CARGO = 7 and p1.Legenda = 50
GROUP BY p1.Sigla
), 4
) * 100  as VotosPorcento
FROM  df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
LEFT JOIN df_partidos p ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 6 and p.Legenda = 50
GROUP BY l.CD_BAIRRO
ORDER BY Votos DESC
")
View(votos_bairro_dep_federal_df)
votos_bairro_dep_federal_df = sqldf("
SELECT
l.NM_BAIRRO as Bairro,
SUM(v.QT_VOTOS) as Votos,
ROUND(
CAST(SUM(v.QT_VOTOS) as real) / (
SELECT SUM(v1.QT_VOTOS)
FROM df_partidos p1
LEFT JOIN df_votos_validos v1 ON p1.Legenda = v1.NR_PARTIDO
WHERE v1.CD_CARGO = 7 and p1.Legenda = 50
), 4
) * 100  as VotosPorcento
FROM  df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
LEFT JOIN df_partidos p ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 6 and p.Legenda = 50
GROUP BY l.CD_BAIRRO
ORDER BY Votos DESC
")
votos_bairro_senado_df = sqldf("
SELECT
l.NM_BAIRRO as Bairro,
SUM(v.QT_VOTOS) as Votos,
ROUND(
CAST(SUM(v.QT_VOTOS) as real) / (
SELECT SUM(v1.QT_VOTOS)
FROM df_partidos p1
LEFT JOIN df_votos_validos v1 ON p1.Legenda = v1.NR_PARTIDO
WHERE v1.CD_CARGO = 7 and p1.Legenda = 50
), 4
) * 100  as VotosPorcento
FROM  df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
LEFT JOIN df_partidos p ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 5 and p.Legenda = 50
GROUP BY l.CD_BAIRRO
ORDER BY Votos DESC
")
View(votos_bairro_senado_df)
votos_espectro_dep_estadual_df = sqldf("
SELECT
p.Espectro,
(CASE
WHEN p.Espectro = 'EE' THEN 1
WHEN p.Espectro = 'E' THEN 2
WHEN p.Espectro = 'CE' THEN 3
WHEN p.Espectro = 'C' THEN 4
WHEN p.Espectro = 'CD' THEN 5
WHEN p.Espectro = 'D' THEN 6
WHEN p.Espectro = 'ED' THEN 7
END) AS ColorIdx,
SUM(v.QT_VOTOS) as Votos,
ROUND(
CAST(SUM(v.QT_VOTOS) as real) / (
SELECT SUM(v1.QT_VOTOS)
FROM df_partidos p1
LEFT JOIN df_votos_validos v1 ON p1.Legenda = v1.NR_PARTIDO
WHERE v1.CD_CARGO = 7 and p1.Espectro IN ('EE', 'E', 'CE')
), 4
) * 100  as VotosPorcento
FROM df_partidos p
LEFT JOIN df_votos_validos v ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 7 AND p.Espectro IN ('EE', 'E', 'CE')
GROUP BY p.Espectro
HAVING SUM(v.QT_VOTOS) > 0
ORDER BY ColorIdx DESC
")
View(votos_espectro_dep_estadual_df)
votos_espectro_dep_estadual_df = sqldf("
SELECT
p.Espectro,
(CASE
WHEN p.Espectro = 'EE' THEN 1
WHEN p.Espectro = 'E' THEN 2
WHEN p.Espectro = 'CE' THEN 3
WHEN p.Espectro = 'C' THEN 4
WHEN p.Espectro = 'CD' THEN 5
WHEN p.Espectro = 'D' THEN 6
WHEN p.Espectro = 'ED' THEN 7
END) AS ColorIdx,
SUM(v.QT_VOTOS) as Votos,
ROUND(
CAST(SUM(v.QT_VOTOS) as real) / (
SELECT SUM(v1.QT_VOTOS)
FROM df_partidos p1
LEFT JOIN df_votos_validos v1 ON p1.Legenda = v1.NR_PARTIDO
WHERE v1.CD_CARGO = 7 and p1.Espectro IN ('EE', 'E', 'CE')
), 4
) * 100  as VotosPorcento
FROM df_partidos p
LEFT JOIN df_votos_validos v ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 7 AND p.Espectro IN ('EE', 'E', 'CE')
GROUP BY p.Espectro
HAVING SUM(v.QT_VOTOS) > 0
ORDER BY ColorIdx ASC
")
write.csv(partidos_esquerda_df, 'export/partidos_esquerda.csv')
write.csv(votos_espectro_dep_estadual_df, 'export/votos_espectro_dep_estadual.csv')
votos_espectro_dep_federal_df = sqldf("
SELECT
p.Espectro,
(CASE
WHEN p.Espectro = 'EE' THEN 1
WHEN p.Espectro = 'E' THEN 2
WHEN p.Espectro = 'CE' THEN 3
WHEN p.Espectro = 'C' THEN 4
WHEN p.Espectro = 'CD' THEN 5
WHEN p.Espectro = 'D' THEN 6
WHEN p.Espectro = 'ED' THEN 7
END) AS ColorIdx,
SUM(v.QT_VOTOS) as Votos,
ROUND(
CAST(SUM(v.QT_VOTOS) as real) / (
SELECT SUM(v1.QT_VOTOS)
FROM df_partidos p1
LEFT JOIN df_votos_validos v1 ON p1.Legenda = v1.NR_PARTIDO
WHERE v1.CD_CARGO = 6 and p1.Espectro IN ('EE', 'E', 'CE')
), 4
) * 100  as VotosPorcento
FROM df_partidos p
LEFT JOIN df_votos_validos v ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 6 AND p.Espectro IN ('EE', 'E', 'CE')
GROUP BY p.Espectro
HAVING SUM(v.QT_VOTOS) > 0
ORDER BY ColorIdx ASC
")
View(votos_espectro_dep_federal_df)
write.csv(votos_espectro_dep_federal_df, 'export/votos_espectro_dep_federal.csv')
votos_espectro_senado_df = sqldf("
SELECT
p.Espectro,
(CASE
WHEN p.Espectro = 'EE' THEN 1
WHEN p.Espectro = 'E' THEN 2
WHEN p.Espectro = 'CE' THEN 3
WHEN p.Espectro = 'C' THEN 4
WHEN p.Espectro = 'CD' THEN 5
WHEN p.Espectro = 'D' THEN 6
WHEN p.Espectro = 'ED' THEN 7
END) AS ColorIdx,
SUM(v.QT_VOTOS) as Votos,
ROUND(
CAST(SUM(v.QT_VOTOS) as real) / (
SELECT SUM(v1.QT_VOTOS)
FROM df_partidos p1
LEFT JOIN df_votos_validos v1 ON p1.Legenda = v1.NR_PARTIDO
WHERE v1.CD_CARGO = 5 and p1.Espectro IN ('EE', 'E', 'CE')
), 4
) * 100  as VotosPorcento
FROM df_partidos p
LEFT JOIN df_votos_validos v ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 5 AND p.Espectro IN ('EE', 'E', 'CE')
GROUP BY p.Espectro
HAVING SUM(v.QT_VOTOS) > 0
ORDER BY ColorIdx ASC
")
View(votos_espectro_senado_df)
write.csv(votos_espectro_senado_df, 'export/votos_espectro_senado.csv')
write.csv(partidos_esquerda_df, 'export/partidos_esquerda.csv')
partidos_esquerda_df = sqldf("SELECT * FROM df_partidos WHERE Espectro IN ('EE', 'E', 'CE')")
write.csv(partidos_esquerda_df, 'export/partidos_esquerda.csv')
votos_partidos_espectro_dep_estadual_mapa = sqldf("
SELECT
SUM(v.QT_VOTOS) AS Votos,
l.DS_LOCAL,
l.NR_LATITUDE as lat,
l.NR_LONGITUDE as lng,
l.NM_BAIRRO,
l.NM_CIDADE
FROM df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
GROUP BY l.CD_LOCAL, l.NR_LATITUDE, l.NR_LONGITUDE, l.NM_BAIRRO, l.NM_CIDADE
ORDER BY Votos DESC
")
votos_partidos_dep_estadual_mapa = sqldf("
SELECT
SUM(v.QT_VOTOS) AS Votos,
l.DS_LOCAL,
l.NR_LATITUDE as lat,
l.NR_LONGITUDE as lng,
l.NM_BAIRRO,
l.NM_CIDADE
FROM df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
GROUP BY l.CD_LOCAL, l.NR_LATITUDE, l.NR_LONGITUDE, l.NM_BAIRRO, l.NM_CIDADE
ORDER BY Votos DESC
")
View(votos_partidos_espectro_dep_estadual_mapa)
votos_partidos_dep_estadual_mapa = sqldf("
SELECT
SUM(v.QT_VOTOS) AS Votos,
l.DS_LOCAL,
l.NR_LATITUDE as lat,
l.NR_LONGITUDE as lng,
l.NM_BAIRRO,
l.NM_CIDADE
FROM df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
WHERE v.CD_CARGO = 7 and p.Legenda = 50
GROUP BY l.CD_LOCAL, l.NR_LATITUDE, l.NR_LONGITUDE, l.NM_BAIRRO, l.NM_CIDADE
ORDER BY Votos DESC
")
View(votos_partidos_espectro_dep_estadual_mapa)
View(votos_partidos_dep_estadual_mapa)
votos_partidos_dep_estadual_mapa = sqldf("
SELECT
SUM(v.QT_VOTOS) AS Votos,
l.DS_LOCAL,
l.NR_LATITUDE as lat,
l.NR_LONGITUDE as lng,
l.NM_BAIRRO,
l.NM_CIDADE
FROM df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
LEFT JOIN df_partidos p ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 7 and p.Legenda = 50
GROUP BY l.CD_LOCAL, l.NR_LATITUDE, l.NR_LONGITUDE, l.NM_BAIRRO, l.NM_CIDADE
ORDER BY Votos DESC
")
View(votos_partidos_dep_estadual_mapa)
View(votos_bairro_dep_estadual_df)
View(votos_bairro_dep_estadual_df)
View(votos_partidos_dep_estadual_mapa)
leaflet(data = votos_partidos_dep_estadual_mapa) %>% addTiles() %>%
addMarkers(~lng, ~lat,
popup = paste(
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$DS_LOCAL), "</b> <br />",
as.character(votos_partidos_dep_estadual_mapa$NM_BAIRRO), " <br /> ",
as.character(votos_partidos_dep_estadual_mapa$NM_CIDADE)  ,"/SP <br /> </p>",
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$Votos), " Votos</b> <br /> </p>"
),
label = as.character(votos_partidos_dep_estadual_mapa$Votos),
labelOptions = labelOptions(noHide = T, direction = "bottom",
style = list(
"color" = "red",
"font-family" = "serif",
"font-style" = "bold",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"font-size" = "12px",
"border-color" = "rgba(0,0,0,0.5)"
)))
votos_partidos_dep_federal_mapa = sqldf("
SELECT
SUM(v.QT_VOTOS) AS Votos,
l.DS_LOCAL,
l.NR_LATITUDE as lat,
l.NR_LONGITUDE as lng,
l.NM_BAIRRO,
l.NM_CIDADE
FROM df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
LEFT JOIN df_partidos p ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 6 and p.Legenda = 50
GROUP BY l.CD_LOCAL, l.NR_LATITUDE, l.NR_LONGITUDE, l.NM_BAIRRO, l.NM_CIDADE
ORDER BY Votos DESC
")
leaflet(data = votos_partidos_dep_federal_mapa) %>% addTiles() %>%
addMarkers(~lng, ~lat,
popup = paste(
"<p><b>", as.character(votos_partidos_dep_federal_mapa$DS_LOCAL), "</b> <br />",
as.character(votos_partidos_dep_federal_mapa$NM_BAIRRO), " <br /> ",
as.character(votos_partidos_dep_federal_mapa$NM_CIDADE)  ,"/SP <br /> </p>",
"<p><b>", as.character(votos_partidos_dep_federal_mapa$Votos), " Votos</b> <br /> </p>"
),
label = as.character(votos_partidos_dep_federal_mapa$Votos),
labelOptions = labelOptions(noHide = T, direction = "bottom",
style = list(
"color" = "red",
"font-family" = "serif",
"font-style" = "bold",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"font-size" = "12px",
"border-color" = "rgba(0,0,0,0.5)"
)))
votos_partidos_senado_mapa = sqldf("
SELECT
SUM(v.QT_VOTOS) AS Votos,
l.DS_LOCAL,
l.NR_LATITUDE as lat,
l.NR_LONGITUDE as lng,
l.NM_BAIRRO,
l.NM_CIDADE
FROM df_votos_validos v
LEFT JOIN df_locais_votacao l ON l.NR_ZONA = v.NR_ZONA AND l.NR_SECAO = v.NR_SECAO
LEFT JOIN df_partidos p ON p.Legenda = v.NR_PARTIDO
WHERE v.CD_CARGO = 5 and p.Legenda = 50
GROUP BY l.CD_LOCAL, l.NR_LATITUDE, l.NR_LONGITUDE, l.NM_BAIRRO, l.NM_CIDADE
ORDER BY Votos DESC
")
eaflet(data = votos_partidos_senado_mapa) %>% addTiles() %>%
addMarkers(~lng, ~lat,
popup = paste(
"<p><b>", as.character(votos_partidos_senado_mapa$DS_LOCAL), "</b> <br />",
as.character(votos_partidos_senado_mapa$NM_BAIRRO), " <br /> ",
as.character(votos_partidos_senado_mapa$NM_CIDADE)  ,"/SP <br /> </p>",
"<p><b>", as.character(votos_partidos_senado_mapa$Votos), " Votos</b> <br /> </p>"
),
label = as.character(votos_partidos_senado_mapa$Votos),
labelOptions = labelOptions(noHide = T, direction = "bottom",
style = list(
"color" = "red",
"font-family" = "serif",
"font-style" = "bold",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"font-size" = "12px",
"border-color" = "rgba(0,0,0,0.5)"
)))
lf <- leaflet(data = votos_partidos_senado_mapa) %>%
addProviderTiles(providers$CartoDB.Positron)
purrr::walk(
names(votos_partidos_senado_mapa),
function(Sigla) {
# print(Sigla)
lf <<- lf %>%
#addHeatmap(lng = ~lng, lat = ~lat, group =df6$Sigla, intensity = ~Votos, blur = 20, max = 0.05, radius = 15)
addHeatmap(
#data = df6[[Sigla]],
layerId = Sigla, group = Sigla,
lng=~lng, lat=~lat, intensity = ~Votos,
blur = 20, max = 0.05, radius = 15)
})
lf %>%
addLayersControl(
baseGroups = names(df6),
options = layersControlOptions(collapsed = FALSE)
)
lf <- leaflet(data = votos_partidos_senado_mapa) %>%
addProviderTiles(providers$CartoDB.Positron)
purrr::walk(
names(votos_partidos_senado_mapa),
function(Sigla) {
# print(Sigla)
lf <<- lf %>%
#addHeatmap(lng = ~lng, lat = ~lat, group =df6$Sigla, intensity = ~Votos, blur = 20, max = 0.05, radius = 15)
addHeatmap(
#data = df6[[Sigla]],
layerId = Sigla, group = Sigla,
lng=~lng, lat=~lat, intensity = ~Votos,
blur = 20, max = 0.05, radius = 15)
})
lf %>%
addLayersControl(
baseGroups = names(votos_partidos_senado_mapa),
options = layersControlOptions(collapsed = FALSE)
)
lf <- leaflet(data = votos_partidos_senado_mapa) %>%
addProviderTiles(providers$CartoDB.Positron)
purrr::walk(
names(votos_partidos_senado_mapa),
function(Sigla) {
# print(Sigla)
lf <<- lf %>%
#addHeatmap(lng = ~lng, lat = ~lat, group =df6$Sigla, intensity = ~Votos, blur = 20, max = 0.05, radius = 15)
addHeatmap(
#data = df6[[Sigla]],
layerId = Sigla, group = Sigla,
lng=~lng, lat=~lat, intensity = ~Votos,
blur = 20, max = 0.05, radius = 15)
})
leaflet(data = votos_partidos_senado_mapa) %>%
addTiles() %>%
addMarkers(clusterOptions = markerClusterOptions()) %>%
frameWidget()
leaflet(data = votos_partidos_senado_mapa) %>%
addTiles() %>%
addMarkers(clusterOptions = markerClusterOptions())
leaflet(data = votos_partidos_dep_federal_mapa) %>% addTiles() %>%
addMarkers(~lng, ~lat,
popup = paste(
"<p><b>", as.character(votos_partidos_dep_federal_mapa$DS_LOCAL), "</b> <br />",
as.character(votos_partidos_dep_federal_mapa$NM_BAIRRO), " <br /> ",
as.character(votos_partidos_dep_federal_mapa$NM_CIDADE)  ,"/SP <br /> </p>",
"<p><b>", as.character(votos_partidos_dep_federal_mapa$Votos), " Votos</b> <br /> </p>"
),
label = as.character(votos_partidos_dep_federal_mapa$Votos),
labelOptions = labelOptions(noHide = T, direction = "bottom",
style = list(
"color" = "red",
"font-family" = "serif",
"font-style" = "bold",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"font-size" = "12px",
"border-color" = "rgba(0,0,0,0.5)"
)))
db_access <<- 'remote'
setwd('/Users/ricardoalmeida/ds/datascience/r_analises/eleicoes_2018')
source(file = "load_data.R")
leaflet(data = votos_partidos_dep_estadual_mapa) %>% addTiles() %>%
addMarkers(~lng, ~lat,
popup = paste(
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$DS_LOCAL), "</b> <br />",
as.character(votos_partidos_dep_estadual_mapa$NM_BAIRRO), " <br /> ",
as.character(votos_partidos_dep_estadual_mapa$NM_CIDADE)  ,"/SP <br /> </p>",
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$Votos), " Votos</b> <br /> </p>"
),
label = as.character(votos_partidos_dep_estadual_mapa$Votos),
labelOptions = labelOptions(noHide = T, direction = "bottom",
style = list(
"color" = "red",
"font-family" = "serif",
"font-style" = "bold",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"font-size" = "12px",
"border-color" = "rgba(0,0,0,0.5)"
)))
leaflet(data = votos_partidos_dep_estadual_mapa) %>% addTiles() %>%
addMarkers(~lng, ~lat,
popup = paste(
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$DS_LOCAL), "</b> <br />",
as.character(votos_partidos_dep_estadual_mapa$NM_BAIRRO), " <br /> ",
as.character(votos_partidos_dep_estadual_mapa$NM_CIDADE)  ,"/SP <br /> </p>",
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$Votos), " Votos</b> <br /> </p>"
),
label = as.character(votos_partidos_dep_estadual_mapa$Votos),
labelOptions = labelOptions(noHide = T, direction = "bottom",
style = list(
"color" = "black",
"font-family" = "serif",
"font-style" = "bold",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"font-size" = "12px",
"border-color" = "rgba(0,0,0,0.5)"
)))
leaflet(data = votos_partidos_dep_estadual_mapa) %>% addTiles() %>%
addMarkers(~lng, ~lat,
popup = paste(
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$DS_LOCAL), "</b> <br />",
as.character(votos_partidos_dep_estadual_mapa$NM_BAIRRO), " <br /> ",
as.character(votos_partidos_dep_estadual_mapa$NM_CIDADE)  ,"/SP <br /> </p>",
"<p><b>", as.character(votos_partidos_dep_estadual_mapa$Votos), " Votos</b> <br /> </p>"
),
label = as.character(votos_partidos_dep_estadual_mapa$Votos),
labelOptions = labelOptions(noHide = T, direction = "bottom",
style = list(
"color" = "black",
"font-family" = "serif",
"font-style" = "bold",
"box-shadow" = "3px 3px rgba(0,0,0,0.25)",
"font-size" = "10px",
"border-color" = "rgba(0,0,0,0.5)"
)))
install.packages("ggmap")
library(ggmap)
ggmap::register_google(key = "AIzaSyDPPpUIbk1pfrKLM6HWZLfTfUCEDFWcpDU")
p <- ggmap(get_googlemap(center = c(lon = -122.335167, lat = 47.608013),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
p + geom_point(aes(x = Longitude, y = Latitude,  colour = Initial.Type.Group), data = votos_partidos_senado_mapa, size = 0.5) +
theme(legend.position="bottom")
p <- ggmap(get_googlemap(center = c(lon = -122.335167, lat = 47.608013),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
p <- ggmap(get_googlemap(center = c(lon = -22.335167, lat = 47.608013),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
p <- ggmap(get_googlemap(center = c(lon = 47.608013 , lat = -22.335167),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
p <- ggmap(get_googlemap(center = c(lon = 47.608013 , lat = -22.335167),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
p + geom_point(aes(x = Longitude, y = Latitude,  colour = Initial.Type.Group), data = votos_partidos_senado_mapa, size = 0.5) +
theme(legend.position="bottom")
p <- ggmap(get_googlemap(center = c(lon = -122.335167, lat = 47.608013),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
p + geom_point(aes(x = Longitude, y = Latitude,  colour = Initial.Type.Group), data = i2, size = 0.5) +
theme(legend.position="bottom")
install.packages("dkahle/ggmap")
devtools::install_github("dkahle/ggmap")
p <- ggmap(get_googlemap(center = c(lon = 47.608013 , lat = -22.335167),
zoom = 11, scale = 2,
maptype ='terrain',
color = 'color'))
p + geom_point(aes(x = Longitude, y = Latitude,  colour = Initial.Type.Group), data = votos_partidos_senado_mapa, size = 0.5) +
theme(legend.position="bottom")
bbox <- c(left = -97.1268, bottom = 31.536245, right = -97.099334, top = 31.559652)
ggmap(get_stamenmap(bbox, zoom = 13))
bbox <- c(left = -47.392144, bottom = -22.787158, right = -47.191336, top = -22.660375)
ggmap(get_stamenmap(bbox, zoom = 13))
